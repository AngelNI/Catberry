{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u4ecb\u7ecd \u00b6 \u6b22\u8fce\u6765\u5230Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863 \u00b6","title":"\u4ecb\u7ecd"},{"location":"#_1","text":"","title":"\u4ecb\u7ecd"},{"location":"#catberry","text":"","title":"\u6b22\u8fce\u6765\u5230Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/A/","text":"\u5f00\u59cb \u00b6 \u9996\u5148\uff0c\u60a8\u9700\u8981\u5b89\u88c5CLI\uff1a 1 npm install -g catberry-cli \u63a5\u4e0b\u6765\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u76ee\u5f55\u3002 1 2 mkdir ~/new-project cd ~/new-project \u6700\u540e\uff0c\u4f7f\u7528\u4ee5\u4e0bCatberry\u6a21\u677f\u4e2d\u7684\u4e00\u4e2a\u521d\u59cb\u5316\u65b0\u9879\u76ee\uff1a example -\u8be5\u9879\u76ee\u4e0eGitHub API\u914d\u5408\u4f7f\u7528\uff0c\u5e76\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528Catberry \u6846\u67b6\u5b9e\u73b0\u8fd9\u79cd\u540c\u6784/\u901a\u7528\u5e94\u7528\u7a0b\u5e8f\u3002 empty-handlebars -\u4f7f\u7528 Handlebars \u6a21\u677f\u5f15\u64ce\u7684\u7a7a\u9879\u76ee\u3002 empty-dust -\u4f7f\u7528[ Dust ]\u6a21\u677f\u5f15\u64ce\u7684\u7a7a\u9879\u76ee\u3002 empty-pug -\u4f7f\u7528 Pug \u6a21\u677f\u5f15\u64ce\u7684\u7a7a\u9879\u76ee\u3002 1 catberry init <template-name> \u4f8b\u5982\uff1a 1 catberry init empty-handlebars \u5c3d\u7ba1\u5df2\u7ecf\u521b\u5efa\u4e86\u9879\u76ee\u7ed3\u6784\uff0c\u4f46\u662f\u4ecd\u7136\u9700\u8981\u5b89\u88c5\u4f9d\u8d56\u9879\uff1a 1 npm install --production \u73b0\u5728\u60a8\u53ef\u4ee5\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\uff0c\u4ece\u4ee5\u4e0b\u9009\u9879\u4e2d\u8fdb\u884c\u9009\u62e9\uff1a debug \u6a21\u5f0f\u2014\u2014\u4e0d\u51cf\u5c11\u4ee3\u7801\uff0c\u76d1\u89c6\u6587\u4ef6\u4e2d\u7684\u66f4\u6539\u5e76\u91cd\u5efa/\u91cd\u65b0\u521d\u59cb\u5316\u3002 release \u6a21\u5f0f\u2014\u2014\u4ee3\u7801\u5df2\u6700\u5c0f\u5316\uff0c\u65e0\u9700\u76d1\u89c6\u66f4\u6539\uff0c\u5df2\u51c6\u5907\u5c31\u7eea\u3002 \u5728 release \u6a21\u5f0f\u4e2d\u542f\u52a8\uff1a 1 npm start \u5728 debug \u6a21\u5f0f\u4e2d\u542f\u52a8\uff1a 1 npm run debug \u6216\u8005 1 npm run debug-win \u5982\u679c\u60a8\u4f7f\u7528\u7684\u662fwindows\u7cfb\u7edf\uff0c \u8be5\u5e94\u7528\u7a0b\u5e8f\u5c06\u5728\u63a7\u5236\u53f0\u4e0a\u8f93\u51fa\u5b83\u6b63\u5728\u76d1\u542c\u7684\u7aef\u53e3-\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3ahttp\uff1a// localhost\uff1a3000\u3002 \u73b0\u5728\uff0c\u60a8\u5df2\u7ecf\u6709\u4e86\u7b2c\u4e00\u4e2aCatberry\u5e94\u7528\u7a0b\u5e8f\uff0c\u8bf7\u7ee7\u7eed\u521b\u5efa\u81ea\u5df1\u7684\u50a8\u5b58\u548c\u548cCAT\u7ec4\u4ef6\u3002 CLI\u4e5f\u53ef\u4ee5\u5f88\u597d\u5730\u5e2e\u52a9\u60a8\u3002 \u7528\u4e8e\u6dfb\u52a0\u50a8\u5b58\uff1a 1 catberry addstore <store-name> \u5176\u4e2d \u662f\u50a8\u5b58\u7684\u540d\u79f0\uff0c\u4f8b\u5982 some-group / Store \u3002 \u6dfb\u52a0CAT\u7ec4\u4ef6\uff1a 1 catberry addcomp <component-name> \u5176\u4e2d \u662f\u7ec4\u4ef6\u7684\u540d\u79f0\uff0c\u4f8b\u5982 hello-world \u3002 \u73b0\u5728\uff0c\u60a8\u5e94\u8be5\u662f\u8bbe\u7f6e Catberry Framework \u7684\u4e13\u5bb6\uff0c\u7ee7\u7eed\u5c1d\u8bd5\u4e00\u4e0b\u5427\uff01","title":"\u5f00\u59cb"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/A/#_1","text":"\u9996\u5148\uff0c\u60a8\u9700\u8981\u5b89\u88c5CLI\uff1a 1 npm install -g catberry-cli \u63a5\u4e0b\u6765\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u76ee\u5f55\u3002 1 2 mkdir ~/new-project cd ~/new-project \u6700\u540e\uff0c\u4f7f\u7528\u4ee5\u4e0bCatberry\u6a21\u677f\u4e2d\u7684\u4e00\u4e2a\u521d\u59cb\u5316\u65b0\u9879\u76ee\uff1a example -\u8be5\u9879\u76ee\u4e0eGitHub API\u914d\u5408\u4f7f\u7528\uff0c\u5e76\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528Catberry \u6846\u67b6\u5b9e\u73b0\u8fd9\u79cd\u540c\u6784/\u901a\u7528\u5e94\u7528\u7a0b\u5e8f\u3002 empty-handlebars -\u4f7f\u7528 Handlebars \u6a21\u677f\u5f15\u64ce\u7684\u7a7a\u9879\u76ee\u3002 empty-dust -\u4f7f\u7528[ Dust ]\u6a21\u677f\u5f15\u64ce\u7684\u7a7a\u9879\u76ee\u3002 empty-pug -\u4f7f\u7528 Pug \u6a21\u677f\u5f15\u64ce\u7684\u7a7a\u9879\u76ee\u3002 1 catberry init <template-name> \u4f8b\u5982\uff1a 1 catberry init empty-handlebars \u5c3d\u7ba1\u5df2\u7ecf\u521b\u5efa\u4e86\u9879\u76ee\u7ed3\u6784\uff0c\u4f46\u662f\u4ecd\u7136\u9700\u8981\u5b89\u88c5\u4f9d\u8d56\u9879\uff1a 1 npm install --production \u73b0\u5728\u60a8\u53ef\u4ee5\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\uff0c\u4ece\u4ee5\u4e0b\u9009\u9879\u4e2d\u8fdb\u884c\u9009\u62e9\uff1a debug \u6a21\u5f0f\u2014\u2014\u4e0d\u51cf\u5c11\u4ee3\u7801\uff0c\u76d1\u89c6\u6587\u4ef6\u4e2d\u7684\u66f4\u6539\u5e76\u91cd\u5efa/\u91cd\u65b0\u521d\u59cb\u5316\u3002 release \u6a21\u5f0f\u2014\u2014\u4ee3\u7801\u5df2\u6700\u5c0f\u5316\uff0c\u65e0\u9700\u76d1\u89c6\u66f4\u6539\uff0c\u5df2\u51c6\u5907\u5c31\u7eea\u3002 \u5728 release \u6a21\u5f0f\u4e2d\u542f\u52a8\uff1a 1 npm start \u5728 debug \u6a21\u5f0f\u4e2d\u542f\u52a8\uff1a 1 npm run debug \u6216\u8005 1 npm run debug-win \u5982\u679c\u60a8\u4f7f\u7528\u7684\u662fwindows\u7cfb\u7edf\uff0c \u8be5\u5e94\u7528\u7a0b\u5e8f\u5c06\u5728\u63a7\u5236\u53f0\u4e0a\u8f93\u51fa\u5b83\u6b63\u5728\u76d1\u542c\u7684\u7aef\u53e3-\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3ahttp\uff1a// localhost\uff1a3000\u3002 \u73b0\u5728\uff0c\u60a8\u5df2\u7ecf\u6709\u4e86\u7b2c\u4e00\u4e2aCatberry\u5e94\u7528\u7a0b\u5e8f\uff0c\u8bf7\u7ee7\u7eed\u521b\u5efa\u81ea\u5df1\u7684\u50a8\u5b58\u548c\u548cCAT\u7ec4\u4ef6\u3002 CLI\u4e5f\u53ef\u4ee5\u5f88\u597d\u5730\u5e2e\u52a9\u60a8\u3002 \u7528\u4e8e\u6dfb\u52a0\u50a8\u5b58\uff1a 1 catberry addstore <store-name> \u5176\u4e2d \u662f\u50a8\u5b58\u7684\u540d\u79f0\uff0c\u4f8b\u5982 some-group / Store \u3002 \u6dfb\u52a0CAT\u7ec4\u4ef6\uff1a 1 catberry addcomp <component-name> \u5176\u4e2d \u662f\u7ec4\u4ef6\u7684\u540d\u79f0\uff0c\u4f8b\u5982 hello-world \u3002 \u73b0\u5728\uff0c\u60a8\u5e94\u8be5\u662f\u8bbe\u7f6e Catberry Framework \u7684\u4e13\u5bb6\uff0c\u7ee7\u7eed\u5c1d\u8bd5\u4e00\u4e0b\u5427\uff01","title":"\u5f00\u59cb"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/B/","text":"\u540c\u6784/\u901a\u7528\u5e94\u7528 \u00b6 TL; DR\u901a\u8fc7\u540c\u6784/\u901a\u7528\u5e94\u7528\u89e3\u51b3\u7684\u4e00\u4e9b\u76f4\u63a5\u597d\u5904\uff1a Search-engine crawlable single page application \u2014\u2014\u53ef\u4ee5\u50cf\u5728\u6d4f\u89c8\u5668\u4e2d\u4e00\u6837\u5bb9\u6613\u5730\u5728\u670d\u52a1\u5668\u4e0a\u5448\u73b0\u540c\u4e00\u9875\u9762\u3002 D.R.Y templating & logic \u2014\u2014\u7531\u4e8e\u901a\u7528\u6a21\u5757\u4ec5\u7528JavaScript\u7f16\u5199\u4e00\u6b21\uff0c\u56e0\u6b64\u60a8\u4e0d\u5fc5\u91cd\u590d\u81ea\u5df1\u6216\u5728\u4e24\u4e2a\u5355\u72ec\u7684\u4ee3\u7801\u5e93\u4e2d\u7ef4\u62a4\u76f8\u540c\u7684\u903b\u8f91\u3002 \u6784\u5efa\u540c\u6784/\u901a\u7528\u5e94\u7528\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u5728\u670d\u52a1\u5668/\u5ba2\u6237\u7aef\u4e0a\u76f8\u540c\u5730\u4f7f\u7528\u7ed9\u5b9a\u7684\u6a21\u5757\u3002 \u4ee5\u7528\u4e8e\u5448\u73b0\u9875\u9762\u7684\u4ee3\u7801\u4e3a\u4f8b\u3002\u5b83\u53ef\u4ee5\u9996\u5148\u5728\u670d\u52a1\u5668\u4e0a\u4f7f\u7528\u2013\u7528\u4e8eSEO\uff0c\u5171\u4eab\u94fe\u63a5\uff0c\u5feb\u901f\u521d\u59cb\u5316\u7b49\u2013\u7136\u540e\u5728\u6d4f\u89c8\u5668\u4e2d\u6216\u5b8c\u5168\u5728\u6d4f\u89c8\u5668\u4e2d\u7528\u4f5c\u5355\u9875\u5e94\u7528\u7a0b\u5e8f\uff0c\u800c\u65e0\u9700\u670d\u52a1\u5668\u5448\u73b0\u3002 Airbnb\u4e0a\u6709\u4e00\u7bc7\u5f88\u68d2\u7684\u535a\u5ba2\u6587\u7ae0 \u94fe\u63a5 \uff0c\u89e3\u91ca\u4e86\u540c\u6784JavaScript\u5e94\u7528\u7a0b\u5e8f\u80cc\u540e\u7684\u601d\u60f3\u53ca\u5176\u7ec4\u6210\u3002 \u53e6\u5916\uff0c\u60a8\u53ef\u4ee5\u67e5\u770bSpike Brehm\u7684JSConf 2014\u5e74\u7684\u6f14\u8bb2: Building Isomorphic Apps \u3002 Catberry\u662f\u7528\u4e8e\u4f7f\u7528\u901a\u7528\u7ec4\u4ef6\u6784\u5efa\u524d\u7aef\u5e94\u7528\u7a0b\u5e8f\u7684\u540c\u6784\u6846\u67b6\u3002Catberry\u80cc\u540e\u7684\u60f3\u6cd5\u662f\u6784\u5efa\u4e00\u4e2a\u4ec5\u524d\u7aef\u5e94\u7528\u7a0b\u5e8f\uff0c\u8be5\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u4e00\u7ec4RESTful API\u83b7\u53d6\u5176\u6570\u636e\uff0c\u5e76\u5feb\u901f\u5448\u73b0\u7ed3\u679c\u9875\u9762\u3002","title":"\u540c\u6784/\u901a\u7528\u5e94\u7528"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/B/#_1","text":"TL; DR\u901a\u8fc7\u540c\u6784/\u901a\u7528\u5e94\u7528\u89e3\u51b3\u7684\u4e00\u4e9b\u76f4\u63a5\u597d\u5904\uff1a Search-engine crawlable single page application \u2014\u2014\u53ef\u4ee5\u50cf\u5728\u6d4f\u89c8\u5668\u4e2d\u4e00\u6837\u5bb9\u6613\u5730\u5728\u670d\u52a1\u5668\u4e0a\u5448\u73b0\u540c\u4e00\u9875\u9762\u3002 D.R.Y templating & logic \u2014\u2014\u7531\u4e8e\u901a\u7528\u6a21\u5757\u4ec5\u7528JavaScript\u7f16\u5199\u4e00\u6b21\uff0c\u56e0\u6b64\u60a8\u4e0d\u5fc5\u91cd\u590d\u81ea\u5df1\u6216\u5728\u4e24\u4e2a\u5355\u72ec\u7684\u4ee3\u7801\u5e93\u4e2d\u7ef4\u62a4\u76f8\u540c\u7684\u903b\u8f91\u3002 \u6784\u5efa\u540c\u6784/\u901a\u7528\u5e94\u7528\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u5728\u670d\u52a1\u5668/\u5ba2\u6237\u7aef\u4e0a\u76f8\u540c\u5730\u4f7f\u7528\u7ed9\u5b9a\u7684\u6a21\u5757\u3002 \u4ee5\u7528\u4e8e\u5448\u73b0\u9875\u9762\u7684\u4ee3\u7801\u4e3a\u4f8b\u3002\u5b83\u53ef\u4ee5\u9996\u5148\u5728\u670d\u52a1\u5668\u4e0a\u4f7f\u7528\u2013\u7528\u4e8eSEO\uff0c\u5171\u4eab\u94fe\u63a5\uff0c\u5feb\u901f\u521d\u59cb\u5316\u7b49\u2013\u7136\u540e\u5728\u6d4f\u89c8\u5668\u4e2d\u6216\u5b8c\u5168\u5728\u6d4f\u89c8\u5668\u4e2d\u7528\u4f5c\u5355\u9875\u5e94\u7528\u7a0b\u5e8f\uff0c\u800c\u65e0\u9700\u670d\u52a1\u5668\u5448\u73b0\u3002 Airbnb\u4e0a\u6709\u4e00\u7bc7\u5f88\u68d2\u7684\u535a\u5ba2\u6587\u7ae0 \u94fe\u63a5 \uff0c\u89e3\u91ca\u4e86\u540c\u6784JavaScript\u5e94\u7528\u7a0b\u5e8f\u80cc\u540e\u7684\u601d\u60f3\u53ca\u5176\u7ec4\u6210\u3002 \u53e6\u5916\uff0c\u60a8\u53ef\u4ee5\u67e5\u770bSpike Brehm\u7684JSConf 2014\u5e74\u7684\u6f14\u8bb2: Building Isomorphic Apps \u3002 Catberry\u662f\u7528\u4e8e\u4f7f\u7528\u901a\u7528\u7ec4\u4ef6\u6784\u5efa\u524d\u7aef\u5e94\u7528\u7a0b\u5e8f\u7684\u540c\u6784\u6846\u67b6\u3002Catberry\u80cc\u540e\u7684\u60f3\u6cd5\u662f\u6784\u5efa\u4e00\u4e2a\u4ec5\u524d\u7aef\u5e94\u7528\u7a0b\u5e8f\uff0c\u8be5\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u4e00\u7ec4RESTful API\u83b7\u53d6\u5176\u6570\u636e\uff0c\u5e76\u5feb\u901f\u5448\u73b0\u7ed3\u679c\u9875\u9762\u3002","title":"\u540c\u6784/\u901a\u7528\u5e94\u7528"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/C/","text":"\u6d41 \u00b6 Catberry\u4f7f\u7528\u6d41\uff08Flux\uff09\uff08\u7c7b\u4f3c\u4e8e\u4f53\u7cfb\u7ed3\u6784\uff09\uff0c\u8be5\u4f53\u7cfb\u7ed3\u6784\u5b9a\u4e49\u4e86\u50a8\u5b58\u7684\u4f7f\u7528\uff08\u6570\u636e\u6e90\uff09\u4ee5\u53ca\u4ece\u50a8\u5b58\u83b7\u53d6\u548c\u5448\u73b0\u6570\u636e\u7684\u89c6\u56fe/\u7ec4\u4ef6\u3002Catberry\u5c06CAT\u7ec4\u4ef6\u7528\u4e8e\u8fd9\u4e9b\u89c6\u56fe\u3002\u8fd9\u662f\u4e00\u4e2a\u5065\u58ee\u7684\u9ad8\u6027\u80fd\u4f53\u7cfb\u7ed3\u6784\uff0c\u53ef\u8ba9\u60a8\u521b\u5efa\u5177\u6709\u8bb8\u591a\u6570\u636e\u4f9d\u8d56\u6027\u7684\u5927\u578b\u4ee5\u53ca\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u3002 \u5f02\u6b65\u5de5\u4f5c\u6d41\u7a0b\u662f\u901a\u8fc7\u4f7f\u7528 Promises \u63a7\u5236\u7684\u3002Catberry\u5728\u6d4f\u89c8\u5668\u6216Node.js\uff08V8\uff09\u4e2d\u4f7f\u7528\u672c\u673aPromise\u3002\u5982\u679c\u627e\u4e0d\u5230\u5168\u5c40\u7c7b\u578bPromise\uff0c\u5219\u6846\u67b6\u5c06\u4f7f\u7528 \"Bare bones Promises/A+ implementation\" \u4e3a\u60a8\u5b9a\u4e49\u5b83\u3002 \u4ece\u9ad8\u5c42\u6b21\u6765\u770b\uff0c\u60a8\u771f\u6b63\u9700\u8981\u77e5\u9053\u7684\u662f\uff0c\u8fd9\u91cc\u6709\u5b58\u50a8\uff0cCAT\u7ec4\u4ef6\u4ee5\u53ca\u63a7\u5236\u5b83\u4eec\u4e4b\u95f4\u901a\u4fe1\u7684\u5546\u5e97\u8c03\u5ea6\u7a0b\u5e8f\u3002 \u5b58\u50a8\u5904\u7406\u6765\u81eaCAT\u7ec4\u4ef6\u7684\u64cd\u4f5c\u6d88\u606f\uff0c\u8fd9\u4e9b\u6d88\u606f\u89e6\u53d1\u66f4\u6539\u7684\u4e8b\u4ef6\uff0c\u7136\u540e\u5bfc\u81f4Catberry\u91cd\u65b0\u5448\u73b0\u4f9d\u8d56\u4e8e\u66f4\u6539\u7684\u5546\u5e97\u7684\u6bcf\u4e2a\u7ec4\u4ef6\u3002 \u5b58\u50a8\u8c03\u5ea6\u7a0b\u5e8f\u7684\u5de5\u4f5c\u65b9\u5f0f\u662f\uff0c\u4e00\u65e6\u8c03\u7528\u4e86\u5b58\u50a8\u6765\u88c5\u8f7d\u6570\u636e\uff0c\u5b83\u5c06\u4e0d\u4f1a\u9075\u5faa\u8fde\u7eed\u7684\u88c5\u8f7d\u8c03\u7528\uff0c\u76f4\u5230\u7b2c\u4e00\u4e2a\u89e3\u51b3\u4e3a\u6b62\u3002","title":"\u6d41"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/C/#_1","text":"Catberry\u4f7f\u7528\u6d41\uff08Flux\uff09\uff08\u7c7b\u4f3c\u4e8e\u4f53\u7cfb\u7ed3\u6784\uff09\uff0c\u8be5\u4f53\u7cfb\u7ed3\u6784\u5b9a\u4e49\u4e86\u50a8\u5b58\u7684\u4f7f\u7528\uff08\u6570\u636e\u6e90\uff09\u4ee5\u53ca\u4ece\u50a8\u5b58\u83b7\u53d6\u548c\u5448\u73b0\u6570\u636e\u7684\u89c6\u56fe/\u7ec4\u4ef6\u3002Catberry\u5c06CAT\u7ec4\u4ef6\u7528\u4e8e\u8fd9\u4e9b\u89c6\u56fe\u3002\u8fd9\u662f\u4e00\u4e2a\u5065\u58ee\u7684\u9ad8\u6027\u80fd\u4f53\u7cfb\u7ed3\u6784\uff0c\u53ef\u8ba9\u60a8\u521b\u5efa\u5177\u6709\u8bb8\u591a\u6570\u636e\u4f9d\u8d56\u6027\u7684\u5927\u578b\u4ee5\u53ca\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u3002 \u5f02\u6b65\u5de5\u4f5c\u6d41\u7a0b\u662f\u901a\u8fc7\u4f7f\u7528 Promises \u63a7\u5236\u7684\u3002Catberry\u5728\u6d4f\u89c8\u5668\u6216Node.js\uff08V8\uff09\u4e2d\u4f7f\u7528\u672c\u673aPromise\u3002\u5982\u679c\u627e\u4e0d\u5230\u5168\u5c40\u7c7b\u578bPromise\uff0c\u5219\u6846\u67b6\u5c06\u4f7f\u7528 \"Bare bones Promises/A+ implementation\" \u4e3a\u60a8\u5b9a\u4e49\u5b83\u3002 \u4ece\u9ad8\u5c42\u6b21\u6765\u770b\uff0c\u60a8\u771f\u6b63\u9700\u8981\u77e5\u9053\u7684\u662f\uff0c\u8fd9\u91cc\u6709\u5b58\u50a8\uff0cCAT\u7ec4\u4ef6\u4ee5\u53ca\u63a7\u5236\u5b83\u4eec\u4e4b\u95f4\u901a\u4fe1\u7684\u5546\u5e97\u8c03\u5ea6\u7a0b\u5e8f\u3002 \u5b58\u50a8\u5904\u7406\u6765\u81eaCAT\u7ec4\u4ef6\u7684\u64cd\u4f5c\u6d88\u606f\uff0c\u8fd9\u4e9b\u6d88\u606f\u89e6\u53d1\u66f4\u6539\u7684\u4e8b\u4ef6\uff0c\u7136\u540e\u5bfc\u81f4Catberry\u91cd\u65b0\u5448\u73b0\u4f9d\u8d56\u4e8e\u66f4\u6539\u7684\u5546\u5e97\u7684\u6bcf\u4e2a\u7ec4\u4ef6\u3002 \u5b58\u50a8\u8c03\u5ea6\u7a0b\u5e8f\u7684\u5de5\u4f5c\u65b9\u5f0f\u662f\uff0c\u4e00\u65e6\u8c03\u7528\u4e86\u5b58\u50a8\u6765\u88c5\u8f7d\u6570\u636e\uff0c\u5b83\u5c06\u4e0d\u4f1a\u9075\u5faa\u8fde\u7eed\u7684\u88c5\u8f7d\u8c03\u7528\uff0c\u76f4\u5230\u7b2c\u4e00\u4e2a\u89e3\u51b3\u4e3a\u6b62\u3002","title":"\u6d41"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/D/","text":"\u524d\u540e\u5171\u4eab \u00b6 Catberry\u5c06\u6bcf\u4e2a\u5b58\u50a8\u548cCAT\u7ec4\u4ef6\u7684\u6bcf\u4e2a\u5b9e\u4f8b\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a $ context \u3002 $ context \u81f3\u5c11\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5e76\u4e14\u4e13\u95e8\u9488\u5bf9\u5b58\u50a8\u548c\u7ec4\u4ef6\u8fdb\u884c\u4e86\u6269\u5c55\uff1a this.$context.isBrowser \u2013 true \u5982\u679c\u4ee3\u7801\u6b63\u5728\u6d4f\u89c8\u5668\u4e2d\u6267\u884c\u3002 this.$context.isServer \u2013 true \u5982\u679c\u4ee3\u7801\u6b63\u5728\u670d\u52a1\u5668\u4e0a\u6267\u884c\u3002 this.$context.userAgent \u2013 \u5f53\u524d\u7528\u6237\u4ee3\u7406\u73af\u5883\u4e0b\u7684\u5b57\u7b26\u4e32\u3002 this.$context.cookie \u2013 \u5f53\u524d\u7684cookie\u5305\u88c5\u5668\u5bf9\u8c61 this.$context.location \u2013 \u5305\u542b\u5f53\u524d\u4f4d\u7f6e\u7684\u5f53\u524dURI\u5bf9\u8c61 this.$context.referrer \u2013 \u5305\u542b\u5f53\u524d\u5f15\u8350\u6765\u6e90\u7f51\u5740\u7684\u5f53\u524dURI\u5bf9\u8c61\u3002 this.$context.locator \u2013 \u5e94\u7528\u7a0b\u5e8f\u7684\u670d\u52a1\u5b9a\u4f4d\u5668 this.$context.getRouteURI('routeName', { parameter: 'value' }) \u2013 \u751f\u6210URI\u5b57\u7b26\u4e32\uff0c\u5c06\u53c2\u6570\u503c\u7c98\u8d34\u5230\u6307\u5b9a\u7684\u8def\u7531\u8868\u8fbe\u5f0f\uff08\u5fc5\u987b\u5177\u6709\u540d\u79f0\uff09\u3002\u5982\u679c\u5c06\u8def\u7531\u53c2\u6570\u7528\u4f5cURI\u4e2d\u7684\u67e5\u8be2\u503c\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528Array\u4f5c\u4e3a\u5176\u503c\u3002\u8bf7\u53c2\u9605\u201c\u8def\u7531\u201d\u90e8\u5206\u4e2d\u7684\u793a\u4f8b\u3002 this.$context.redirect('String') \u2013 \u91cd\u5b9a\u5411\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\u5b57\u7b26\u4e32\u3002\u5982\u679c\u5728\u5448\u73b0\u6587\u6863\u6216\u6807\u9898\u7ec4\u4ef6\u65f6\u4f7f\u7528\uff0c\u5219\u5c06\u4f7f\u7528\u670d\u52a1\u5668\u4e0a\u7684HTTP\u6807\u5934\u548c\u72b6\u6001\u4ee3\u7801\u6765\u5b8c\u6210\u6b64\u64cd\u4f5c\uff0c\u5426\u5219\u5c06\u901a\u8fc7\u5185\u8054< script >\u6807\u7b7e\u3002\u6b64\u65b9\u6cd5\u5728\u670d\u52a1\u5668\u4e0a\u4f7f\u7528HTTP\u72b6\u6001\u4ee3\u7801302\u3002 this.$context.permRedirect('String') \u2013 \u4e0e this.$ context.redirect('url') \u5b8c\u5168\u76f8\u540c\uff0c\u4f46\u662f\u4f7f\u7528HTTP\u72b6\u6001\u4ee3\u7801301\u8fdb\u884c\u6c38\u4e45\u91cd\u5b9a\u5411\u3002 this.$context.notFound() \u2013 \u5c06\u8bf7\u6c42\u5904\u7406\u79fb\u4ea4\u7ed9\u4e0b\u4e00\u4e2a \u8f6c\u79fb/\u94fe\u63a5 \u4e2d\u95f4\u4ef6 \u3002\u5982\u679c\u5728\u5448\u73b0\u6587\u6863\u6216\u6807\u9898\u7ec4\u4ef6\u65f6\u4f7f\u7528\uff0c\u5219\u5c06\u4f7f\u7528\u670d\u52a1\u5668\u4e0a\u7684HTTP\u6807\u5934\u548c\u72b6\u6001\u4ee3\u7801\u6765\u5b8c\u6210\u6b64\u64cd\u4f5c\uff0c\u5426\u5219\u5c06\u901a\u8fc7\u5185\u8054< script >\u6807\u7b7e\u3002 \u6ce8\u610f \uff1a\u8def\u7531\u5668\u6bcf\u6b21\u8ba1\u7b97\u65b0\u7684\u5e94\u7528\u7a0b\u5e8f\u72b6\u6001\u65f6\uff0c\u90fd\u4f1a\u4e3a\u6bcf\u4e2a\u5b58\u50a8\u533a\u91cd\u65b0\u521b\u5efa\u5e76\u91cd\u65b0\u5206\u914d\u4e0a\u4e0b\u6587\uff0c \u56e0\u6b64\uff0c\u8bf7\u52ff\u4fdd\u5b58\u5bf9 this.$ context \u7684\u5f15\u7528\u3002","title":"\u524d\u540e\u5171\u4eab"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/D/#_1","text":"Catberry\u5c06\u6bcf\u4e2a\u5b58\u50a8\u548cCAT\u7ec4\u4ef6\u7684\u6bcf\u4e2a\u5b9e\u4f8b\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a $ context \u3002 $ context \u81f3\u5c11\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5e76\u4e14\u4e13\u95e8\u9488\u5bf9\u5b58\u50a8\u548c\u7ec4\u4ef6\u8fdb\u884c\u4e86\u6269\u5c55\uff1a this.$context.isBrowser \u2013 true \u5982\u679c\u4ee3\u7801\u6b63\u5728\u6d4f\u89c8\u5668\u4e2d\u6267\u884c\u3002 this.$context.isServer \u2013 true \u5982\u679c\u4ee3\u7801\u6b63\u5728\u670d\u52a1\u5668\u4e0a\u6267\u884c\u3002 this.$context.userAgent \u2013 \u5f53\u524d\u7528\u6237\u4ee3\u7406\u73af\u5883\u4e0b\u7684\u5b57\u7b26\u4e32\u3002 this.$context.cookie \u2013 \u5f53\u524d\u7684cookie\u5305\u88c5\u5668\u5bf9\u8c61 this.$context.location \u2013 \u5305\u542b\u5f53\u524d\u4f4d\u7f6e\u7684\u5f53\u524dURI\u5bf9\u8c61 this.$context.referrer \u2013 \u5305\u542b\u5f53\u524d\u5f15\u8350\u6765\u6e90\u7f51\u5740\u7684\u5f53\u524dURI\u5bf9\u8c61\u3002 this.$context.locator \u2013 \u5e94\u7528\u7a0b\u5e8f\u7684\u670d\u52a1\u5b9a\u4f4d\u5668 this.$context.getRouteURI('routeName', { parameter: 'value' }) \u2013 \u751f\u6210URI\u5b57\u7b26\u4e32\uff0c\u5c06\u53c2\u6570\u503c\u7c98\u8d34\u5230\u6307\u5b9a\u7684\u8def\u7531\u8868\u8fbe\u5f0f\uff08\u5fc5\u987b\u5177\u6709\u540d\u79f0\uff09\u3002\u5982\u679c\u5c06\u8def\u7531\u53c2\u6570\u7528\u4f5cURI\u4e2d\u7684\u67e5\u8be2\u503c\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528Array\u4f5c\u4e3a\u5176\u503c\u3002\u8bf7\u53c2\u9605\u201c\u8def\u7531\u201d\u90e8\u5206\u4e2d\u7684\u793a\u4f8b\u3002 this.$context.redirect('String') \u2013 \u91cd\u5b9a\u5411\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\u5b57\u7b26\u4e32\u3002\u5982\u679c\u5728\u5448\u73b0\u6587\u6863\u6216\u6807\u9898\u7ec4\u4ef6\u65f6\u4f7f\u7528\uff0c\u5219\u5c06\u4f7f\u7528\u670d\u52a1\u5668\u4e0a\u7684HTTP\u6807\u5934\u548c\u72b6\u6001\u4ee3\u7801\u6765\u5b8c\u6210\u6b64\u64cd\u4f5c\uff0c\u5426\u5219\u5c06\u901a\u8fc7\u5185\u8054< script >\u6807\u7b7e\u3002\u6b64\u65b9\u6cd5\u5728\u670d\u52a1\u5668\u4e0a\u4f7f\u7528HTTP\u72b6\u6001\u4ee3\u7801302\u3002 this.$context.permRedirect('String') \u2013 \u4e0e this.$ context.redirect('url') \u5b8c\u5168\u76f8\u540c\uff0c\u4f46\u662f\u4f7f\u7528HTTP\u72b6\u6001\u4ee3\u7801301\u8fdb\u884c\u6c38\u4e45\u91cd\u5b9a\u5411\u3002 this.$context.notFound() \u2013 \u5c06\u8bf7\u6c42\u5904\u7406\u79fb\u4ea4\u7ed9\u4e0b\u4e00\u4e2a \u8f6c\u79fb/\u94fe\u63a5 \u4e2d\u95f4\u4ef6 \u3002\u5982\u679c\u5728\u5448\u73b0\u6587\u6863\u6216\u6807\u9898\u7ec4\u4ef6\u65f6\u4f7f\u7528\uff0c\u5219\u5c06\u4f7f\u7528\u670d\u52a1\u5668\u4e0a\u7684HTTP\u6807\u5934\u548c\u72b6\u6001\u4ee3\u7801\u6765\u5b8c\u6210\u6b64\u64cd\u4f5c\uff0c\u5426\u5219\u5c06\u901a\u8fc7\u5185\u8054< script >\u6807\u7b7e\u3002 \u6ce8\u610f \uff1a\u8def\u7531\u5668\u6bcf\u6b21\u8ba1\u7b97\u65b0\u7684\u5e94\u7528\u7a0b\u5e8f\u72b6\u6001\u65f6\uff0c\u90fd\u4f1a\u4e3a\u6bcf\u4e2a\u5b58\u50a8\u533a\u91cd\u65b0\u521b\u5efa\u5e76\u91cd\u65b0\u5206\u914d\u4e0a\u4e0b\u6587\uff0c \u56e0\u6b64\uff0c\u8bf7\u52ff\u4fdd\u5b58\u5bf9 this.$ context \u7684\u5f15\u7528\u3002","title":"\u524d\u540e\u5171\u4eab"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/E/","text":"\u50a8\u5b58 \u00b6 \u5b58\u50a8\u662f\u4f7f\u7528\u8def\u7531\u53c2\u6570\u4ece\u8fdc\u7a0b\u8d44\u6e90\u52a0\u8f7d\u6570\u636e\u7684\u6a21\u5757\u3002\u5b83\u8fd8\u53ef\u4ee5\u5904\u7406\u6765\u81eacat\u7ec4\u4ef6\u6216\u5176\u4ed6\u5b58\u50a8\u7684\u64cd\u4f5c\u6d88\u606f\uff0c\u5e76\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u8fdc\u7a0b\u8d44\u6e90\u66f4\u6539\u6570\u636e\u3002\u6bcf\u5f53\u5b83\u786e\u5b9a\u8fdc\u7a0b\u8d44\u6e90\u4e0a\u7684\u6570\u636e\u5df2\u66f4\u6539\u5e76\u4e14\u5e94\u7528\u7a0b\u5e8f\u5e94\u91cd\u65b0\u52a0\u8f7d\u5b83\u65f6\uff0c\u5b83\u4e5f\u53ef\u4ee5\u53d1\u51fa\u66f4\u6539\u4e8b\u4ef6\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u5b58\u50a8\u90fd\u5e94\u653e\u7f6e\u5728\u9879\u76ee\u7684 ./catberry_stores \u76ee\u5f55\u4e2d\u3002\u4f46\u662f\u60a8\u53ef\u4ee5\u901a\u8fc7 config \u53c2\u6570\u66f4\u6539\u6b64\u76ee\u5f55\u3002 \u5f53Catberry\u521d\u59cb\u5316\u65f6\uff0c\u5b83\u5c06\u5728 ./catberry_stores/ \u4e2d\u8fdb\u884c\u9012\u5f52\u641c\u7d22\uff0c\u5e76\u52a0\u8f7d\u6bcf\u4e2a\u5546\u5e97\u6587\u4ef6\u3002\u5546\u5e97\u540d\u79f0\u5c06\u6210\u4e3a\u76f8\u5bf9\u6587\u4ef6\u8def\u5f84\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5177\u6709\u4ee5\u4e0b\u7ed3\u6784\uff1a 1 2 3 4 5 6 7 8 9 ./catberry_stores/ group1/ store1.js store2.js group2/ store1.js store2.js store1.js store2.js \u90a3\u4e48\u60a8\u5c06\u83b7\u5f97\u50a8\u5b58\u5217\u8868\uff1a 1 2 3 4 5 6 group1/store1 group1/store2 group2/store1 group2/store2 store1 store2 \u6ce8\u610f\uff1a \u56e0\u4e3a\u50a8\u5b58\u540d\u79f0\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u6240\u4ee5\u5b83\u4eec \u533a\u5206\u5927\u5c0f\u5199\u3002 \u5b58\u50a8\u754c\u9762 \u00b6 \u6bcf\u4e2a\u5b58\u50a8\u90fd\u5fc5\u987b\u5bfc\u51fa\u4e00\u4e2a\u7c7b\u6216\u6784\u9020\u51fd\u6570\u4ee5\u521b\u5efa\u5176\u5b9e\u4f8b\u3002 \uff08\u53ef\u9009\uff09\u60a8\u53ef\u4ee5\u5728\u7c7b/\u539f\u578b\u4e2d\u5b9a\u4e49\u4ee5\u4e0b\u65b9\u6cd5\u548c\u5c5e\u6027\u3002 $lifetime \u2013 \u8be5\u503c\u8868\u793aCatberry\u5e94\u8be5\u7f13\u5b58\u4ece\u8be5\u5b58\u50a8\u52a0\u8f7d\u7684\u6570\u636e\u7684\u65f6\u95f4\uff08\u6beb\u79d2\uff09\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u8bbe\u7f6e\u4e3a60000 ms\u3002 load() \u2013 \u4ece\u8fdc\u7a0b\u8d44\u6e90\u52a0\u8f7d\u6570\u636e\u5e76\u8fd4\u56de\u5b83\u6216\u4e00\u4e2aPromise\u3002 handle<SomeActionNameHere>(args) \u2013 \u5904\u7406\u64cd\u4f5c\u5e76\u8fd4\u56de\u7ed3\u679c\u6216Promise\u3002 \u5904\u7406\u7a0b\u5e8f\u53ef\u7528\u4e8e\u5c06\u6570\u636e\u63d0\u4ea4\u5230\u6b64\u5904\u7684\u8fdc\u7a0b\u8d44\u6e90\uff0c\u6216\u4ec5\u66f4\u6539\u5b58\u50a8\u4e2d\u7684\u72b6\u6001-\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u5c06\u5fc5\u987b\u901a\u8fc7 this.$ context.changed() \u53d1\u51fa\u81ea\u5df1\u7684\u66f4\u6539\u4e8b\u4ef6\u3002 \u4f8b\u5982\uff0c\u60a8\u53ef\u547d\u540d\u5b58\u50a8\u65b9\u6cd5\u4e3a handleFormSubmit \uff0c\u5e76\u4e14\u5f53\u67d0\u4e2a\u7ec4\u4ef6\u6216\u5176\u4ed6\u50a8\u5b58\u4f7f\u7528\u8bf8\u5982 form-submit \uff0c form_submit \uff0c FORM_SUBMIT \uff0c formSubmit \u6216 FormSubmit \u4e4b\u7c7b\u7684\u540d\u79f0\u5411\u8be5\u50a8\u5b58\u53d1\u9001\u64cd\u4f5c\u65f6\uff0c\u5b83\u5c06\u89e6\u53d1\u8be5\u5546\u5e97\u7684 handleFormSubmit \u65b9\u6cd5\u3002 \u8bf7\u8bb0\u4f4f\uff0c\u50a8\u5b58\u662f\u901a\u7528\u7684\uff0c\u5b83\u4eec\u7684\u6e90\u4ee3\u7801\u6b63\u5728\u670d\u52a1\u5668\u548c\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u6267\u884c\u3002\u56e0\u6b64\uff0c\u60a8\u4e0d\u80fd\u4f7f\u7528\u7279\u5b9a\u4e8e\u73af\u5883\u7684\u5168\u5c40\u5bf9\u8c61\u6216\u51fd\u6570\uff0c\u4f8b\u5982\u7a97\u53e3\uff0c\u8fdb\u7a0b\u6216\u5176\u4ed6DOM\u65b9\u6cd5\u3002 \u5b58\u50a8\u5173\u7cfb \u00b6 \u50a8\u5b58\u7684 $ context \u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a this.$context.state \u2013 \u8def\u7531\u5b9a\u4e49\u4e2d\u7684\u5f53\u524d\u53c2\u6570\u96c6\u3002 this.$context.getStoreData('storeName') \u2013 \u5f97\u5230\u53e6\u4e00\u4e2a\u5b58\u50a8\u7684\u6570\u636e\u7684\u4fdd\u8bc1\u3002\u5982\u679c storeName \u662f\u5f53\u524d\u5546\u5e97\u7684\u540d\u79f0\uff0c\u5219\u8fd4\u56de null \u3002 this.$context.sendAction('storeName', 'name', object) \u2013\u901a\u8fc7\u540d\u79f0\u5c06\u64cd\u4f5c\u53d1\u9001\u5230\u50a8\u5b58\uff0c\u5e76\u8fd4\u56de\u5904\u7406\u7a0b\u5e8f\u7ed3\u679c\u7684Promise\u3002\u5982\u679c\u5546\u5e97\u6ca1\u6709\u7528\u4e8e\u6b64\u64cd\u4f5c\u7684\u5904\u7406\u7a0b\u5e8f\uff0c\u5219\u7ed3\u679c\u5c06\u4e3a null \u3002 this.$context.changed() \u2013 \u89e6\u53d1\u5f53\u524d\u50a8\u5b58\u7684\u66f4\u6539\u4e8b\u4ef6\u3002 this.$context.setDependency('storeName') \u2013 \u8bbe\u7f6e\u5bf9\u53e6\u4e00\u4e2a\u50a8\u5b58\u6570\u636e\u7684\u4f9d\u8d56\u6027\u3002\u6bcf\u6b21\u50a8\u5b58\u76f8\u5173\u6027\u66f4\u6539\u65f6\uff0c\u5f53\u524d\u5b58\u50a8\u4e5f\u4f1a\u968f\u7740\u66f4\u6539\u800c\u89e6\u53d1\u3002 this.$context.unsetDependency('storeName') \u2013\u5220\u9664 this.$ context.setDependency \u8bbe\u7f6e\u7684\u4f9d\u8d56\u9879\u3002 \u6ce8\u610f\uff1a \u4f7f\u7528\u5176\u4ed6\u50a8\u5b58\u4e2d\u7684\u6570\u636e\u65f6\uff08\u4f8b\u5982\u901a\u8fc7 this.$ context.getStoreData \uff09\uff0c\u5fc5\u987b\u5c06\u8be5\u5546\u5e97\u8bbe\u7f6e\u4e3a\u4f9d\u8d56\u9879\uff08\u901a\u8fc7 this.$ context.setDependency \uff09\uff0c\u5426\u5219\u5546\u5e97\u7684\u4f9d\u8d56\u6027\u5c06\u4e0d\u4f1a\u66f4\u65b0\u3002 \u4f8b\u5982\uff0c\u5047\u8bbe\u60a8\u6709\u4e24\u4e2a\u5546\u5e97 Country \u548c CityList \uff0c\u5728 CityList.load\uff08\uff09 \u5185\u90e8\u5219\u8c03\u7528 this.$ context.getStoreData\uff08'Country'\uff09 \u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u66f4\u6539\u56fd\u5bb6/\u5730\u533a\u540e\uff0c CityList \u5c06\u6c38\u8fdc\u4e0d\u4f1a\u66f4\u65b0\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u5c06 this.$ context.setDependency\uff08'Country'\uff09 \u6dfb\u52a0\u5230 CityList \u7684\u6784\u9020\u51fd\u6570\u4e2d\u3002 \u4ee3\u7801\u793a\u4f8b \u00b6 \u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b\uff0c\u50a8\u5b58\u7684\u6587\u4ef6\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 'use strict'; class Some { /** * Creates a new instance of the \"some\" store. * @param {ServiceLocator} locator The service locator for resolving dependencies. */ constructor(locator) { /** * Current universal HTTP request for environment-independent requests. * @type {UHR} * @private */ this._uhr = locator.resolve('uhr'); /** * Current lifetime of data (in milliseconds) that is returned by this store. * @type {number} Lifetime in milliseconds. */ this.$lifetime = 60000; } /** * Loads data from a remote source. * @returns {Promise<Object>|Object|null|undefined} Loaded data. */ load() { // Here you can perform HTTP requests using this._uhr. // For more info see: https://github.com/catberry/catberry-uhr. } /** * Handles an action named \"some-action\" from any component or store. * @returns {Promise<Object>|Object|null|undefined} Response to the component/store. */ handleSomeAction() { // Here you can call this.$context.changed() if you're sure // that the remote data on the server has been changed. // You can additionally have many more handler methods. }; } module.exports = Some;","title":"\u50a8\u5b58"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/E/#_1","text":"\u5b58\u50a8\u662f\u4f7f\u7528\u8def\u7531\u53c2\u6570\u4ece\u8fdc\u7a0b\u8d44\u6e90\u52a0\u8f7d\u6570\u636e\u7684\u6a21\u5757\u3002\u5b83\u8fd8\u53ef\u4ee5\u5904\u7406\u6765\u81eacat\u7ec4\u4ef6\u6216\u5176\u4ed6\u5b58\u50a8\u7684\u64cd\u4f5c\u6d88\u606f\uff0c\u5e76\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u8fdc\u7a0b\u8d44\u6e90\u66f4\u6539\u6570\u636e\u3002\u6bcf\u5f53\u5b83\u786e\u5b9a\u8fdc\u7a0b\u8d44\u6e90\u4e0a\u7684\u6570\u636e\u5df2\u66f4\u6539\u5e76\u4e14\u5e94\u7528\u7a0b\u5e8f\u5e94\u91cd\u65b0\u52a0\u8f7d\u5b83\u65f6\uff0c\u5b83\u4e5f\u53ef\u4ee5\u53d1\u51fa\u66f4\u6539\u4e8b\u4ef6\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u5b58\u50a8\u90fd\u5e94\u653e\u7f6e\u5728\u9879\u76ee\u7684 ./catberry_stores \u76ee\u5f55\u4e2d\u3002\u4f46\u662f\u60a8\u53ef\u4ee5\u901a\u8fc7 config \u53c2\u6570\u66f4\u6539\u6b64\u76ee\u5f55\u3002 \u5f53Catberry\u521d\u59cb\u5316\u65f6\uff0c\u5b83\u5c06\u5728 ./catberry_stores/ \u4e2d\u8fdb\u884c\u9012\u5f52\u641c\u7d22\uff0c\u5e76\u52a0\u8f7d\u6bcf\u4e2a\u5546\u5e97\u6587\u4ef6\u3002\u5546\u5e97\u540d\u79f0\u5c06\u6210\u4e3a\u76f8\u5bf9\u6587\u4ef6\u8def\u5f84\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5177\u6709\u4ee5\u4e0b\u7ed3\u6784\uff1a 1 2 3 4 5 6 7 8 9 ./catberry_stores/ group1/ store1.js store2.js group2/ store1.js store2.js store1.js store2.js \u90a3\u4e48\u60a8\u5c06\u83b7\u5f97\u50a8\u5b58\u5217\u8868\uff1a 1 2 3 4 5 6 group1/store1 group1/store2 group2/store1 group2/store2 store1 store2 \u6ce8\u610f\uff1a \u56e0\u4e3a\u50a8\u5b58\u540d\u79f0\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u6240\u4ee5\u5b83\u4eec \u533a\u5206\u5927\u5c0f\u5199\u3002","title":"\u50a8\u5b58"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/E/#_2","text":"\u6bcf\u4e2a\u5b58\u50a8\u90fd\u5fc5\u987b\u5bfc\u51fa\u4e00\u4e2a\u7c7b\u6216\u6784\u9020\u51fd\u6570\u4ee5\u521b\u5efa\u5176\u5b9e\u4f8b\u3002 \uff08\u53ef\u9009\uff09\u60a8\u53ef\u4ee5\u5728\u7c7b/\u539f\u578b\u4e2d\u5b9a\u4e49\u4ee5\u4e0b\u65b9\u6cd5\u548c\u5c5e\u6027\u3002 $lifetime \u2013 \u8be5\u503c\u8868\u793aCatberry\u5e94\u8be5\u7f13\u5b58\u4ece\u8be5\u5b58\u50a8\u52a0\u8f7d\u7684\u6570\u636e\u7684\u65f6\u95f4\uff08\u6beb\u79d2\uff09\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u8bbe\u7f6e\u4e3a60000 ms\u3002 load() \u2013 \u4ece\u8fdc\u7a0b\u8d44\u6e90\u52a0\u8f7d\u6570\u636e\u5e76\u8fd4\u56de\u5b83\u6216\u4e00\u4e2aPromise\u3002 handle<SomeActionNameHere>(args) \u2013 \u5904\u7406\u64cd\u4f5c\u5e76\u8fd4\u56de\u7ed3\u679c\u6216Promise\u3002 \u5904\u7406\u7a0b\u5e8f\u53ef\u7528\u4e8e\u5c06\u6570\u636e\u63d0\u4ea4\u5230\u6b64\u5904\u7684\u8fdc\u7a0b\u8d44\u6e90\uff0c\u6216\u4ec5\u66f4\u6539\u5b58\u50a8\u4e2d\u7684\u72b6\u6001-\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u5c06\u5fc5\u987b\u901a\u8fc7 this.$ context.changed() \u53d1\u51fa\u81ea\u5df1\u7684\u66f4\u6539\u4e8b\u4ef6\u3002 \u4f8b\u5982\uff0c\u60a8\u53ef\u547d\u540d\u5b58\u50a8\u65b9\u6cd5\u4e3a handleFormSubmit \uff0c\u5e76\u4e14\u5f53\u67d0\u4e2a\u7ec4\u4ef6\u6216\u5176\u4ed6\u50a8\u5b58\u4f7f\u7528\u8bf8\u5982 form-submit \uff0c form_submit \uff0c FORM_SUBMIT \uff0c formSubmit \u6216 FormSubmit \u4e4b\u7c7b\u7684\u540d\u79f0\u5411\u8be5\u50a8\u5b58\u53d1\u9001\u64cd\u4f5c\u65f6\uff0c\u5b83\u5c06\u89e6\u53d1\u8be5\u5546\u5e97\u7684 handleFormSubmit \u65b9\u6cd5\u3002 \u8bf7\u8bb0\u4f4f\uff0c\u50a8\u5b58\u662f\u901a\u7528\u7684\uff0c\u5b83\u4eec\u7684\u6e90\u4ee3\u7801\u6b63\u5728\u670d\u52a1\u5668\u548c\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u6267\u884c\u3002\u56e0\u6b64\uff0c\u60a8\u4e0d\u80fd\u4f7f\u7528\u7279\u5b9a\u4e8e\u73af\u5883\u7684\u5168\u5c40\u5bf9\u8c61\u6216\u51fd\u6570\uff0c\u4f8b\u5982\u7a97\u53e3\uff0c\u8fdb\u7a0b\u6216\u5176\u4ed6DOM\u65b9\u6cd5\u3002","title":"\u5b58\u50a8\u754c\u9762"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/E/#_3","text":"\u50a8\u5b58\u7684 $ context \u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a this.$context.state \u2013 \u8def\u7531\u5b9a\u4e49\u4e2d\u7684\u5f53\u524d\u53c2\u6570\u96c6\u3002 this.$context.getStoreData('storeName') \u2013 \u5f97\u5230\u53e6\u4e00\u4e2a\u5b58\u50a8\u7684\u6570\u636e\u7684\u4fdd\u8bc1\u3002\u5982\u679c storeName \u662f\u5f53\u524d\u5546\u5e97\u7684\u540d\u79f0\uff0c\u5219\u8fd4\u56de null \u3002 this.$context.sendAction('storeName', 'name', object) \u2013\u901a\u8fc7\u540d\u79f0\u5c06\u64cd\u4f5c\u53d1\u9001\u5230\u50a8\u5b58\uff0c\u5e76\u8fd4\u56de\u5904\u7406\u7a0b\u5e8f\u7ed3\u679c\u7684Promise\u3002\u5982\u679c\u5546\u5e97\u6ca1\u6709\u7528\u4e8e\u6b64\u64cd\u4f5c\u7684\u5904\u7406\u7a0b\u5e8f\uff0c\u5219\u7ed3\u679c\u5c06\u4e3a null \u3002 this.$context.changed() \u2013 \u89e6\u53d1\u5f53\u524d\u50a8\u5b58\u7684\u66f4\u6539\u4e8b\u4ef6\u3002 this.$context.setDependency('storeName') \u2013 \u8bbe\u7f6e\u5bf9\u53e6\u4e00\u4e2a\u50a8\u5b58\u6570\u636e\u7684\u4f9d\u8d56\u6027\u3002\u6bcf\u6b21\u50a8\u5b58\u76f8\u5173\u6027\u66f4\u6539\u65f6\uff0c\u5f53\u524d\u5b58\u50a8\u4e5f\u4f1a\u968f\u7740\u66f4\u6539\u800c\u89e6\u53d1\u3002 this.$context.unsetDependency('storeName') \u2013\u5220\u9664 this.$ context.setDependency \u8bbe\u7f6e\u7684\u4f9d\u8d56\u9879\u3002 \u6ce8\u610f\uff1a \u4f7f\u7528\u5176\u4ed6\u50a8\u5b58\u4e2d\u7684\u6570\u636e\u65f6\uff08\u4f8b\u5982\u901a\u8fc7 this.$ context.getStoreData \uff09\uff0c\u5fc5\u987b\u5c06\u8be5\u5546\u5e97\u8bbe\u7f6e\u4e3a\u4f9d\u8d56\u9879\uff08\u901a\u8fc7 this.$ context.setDependency \uff09\uff0c\u5426\u5219\u5546\u5e97\u7684\u4f9d\u8d56\u6027\u5c06\u4e0d\u4f1a\u66f4\u65b0\u3002 \u4f8b\u5982\uff0c\u5047\u8bbe\u60a8\u6709\u4e24\u4e2a\u5546\u5e97 Country \u548c CityList \uff0c\u5728 CityList.load\uff08\uff09 \u5185\u90e8\u5219\u8c03\u7528 this.$ context.getStoreData\uff08'Country'\uff09 \u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u66f4\u6539\u56fd\u5bb6/\u5730\u533a\u540e\uff0c CityList \u5c06\u6c38\u8fdc\u4e0d\u4f1a\u66f4\u65b0\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u5c06 this.$ context.setDependency\uff08'Country'\uff09 \u6dfb\u52a0\u5230 CityList \u7684\u6784\u9020\u51fd\u6570\u4e2d\u3002","title":"\u5b58\u50a8\u5173\u7cfb"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/E/#_4","text":"\u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b\uff0c\u50a8\u5b58\u7684\u6587\u4ef6\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 'use strict'; class Some { /** * Creates a new instance of the \"some\" store. * @param {ServiceLocator} locator The service locator for resolving dependencies. */ constructor(locator) { /** * Current universal HTTP request for environment-independent requests. * @type {UHR} * @private */ this._uhr = locator.resolve('uhr'); /** * Current lifetime of data (in milliseconds) that is returned by this store. * @type {number} Lifetime in milliseconds. */ this.$lifetime = 60000; } /** * Loads data from a remote source. * @returns {Promise<Object>|Object|null|undefined} Loaded data. */ load() { // Here you can perform HTTP requests using this._uhr. // For more info see: https://github.com/catberry/catberry-uhr. } /** * Handles an action named \"some-action\" from any component or store. * @returns {Promise<Object>|Object|null|undefined} Response to the component/store. */ handleSomeAction() { // Here you can call this.$context.changed() if you're sure // that the remote data on the server has been changed. // You can additionally have many more handler methods. }; } module.exports = Some;","title":"\u4ee3\u7801\u793a\u4f8b"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/F/","text":"CAT-\u7ec4\u4ef6 \u00b6 \u60a8\u53ef\u80fd\u4f1a\u8ba4\u4e3aCAT\u7ec4\u4ef6\u662f\u80e1\u987b\uff0c\u722a\u5b50\uff0c\u751a\u81f3\u662f\u5c3e\u5df4\uff0c\u4f46\u5e76\u975e\u603b\u662f\u5982\u6b64\u3002 CAT\u7ec4\u4ef6\u662f Web\u7ec4\u4ef6 \u7684\u901a\u7528\u5b9e\u73b0\uff0cWeb\u7ec4\u4ef6\u662fWeb\u7ec4\u4ef6\u89c4\u8303\u4e2d\u58f0\u660e\u7684\u529f\u80fd\u548c\u7279\u5b9a\u4e8eCatberry\u6846\u67b6\u7684\u529f\u80fd\u7684\u6df7\u5408\uff0c\u8bbe\u8ba1\u7528\u4e8e\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f5c\u4e3a NPM dependency \u53d1\u5e03\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a cat-component \u90fd\u4f7f\u7528 cat-component.json \u6587\u4ef6\u58f0\u660e\u4e3a\u76ee\u5f55\u3002\u4f46\u662f\u60a8\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u66f4\u6539\u6b64\u8bbe\u7f6e\u3002\u5f53 Catberry \u521d\u59cb\u5316\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u5b83\u5c06\u4ee5\u9879\u76ee\u6839\u76ee\u5f55\u9012\u5f52\u5730\u641c\u7d22\u6b64\u7c7b\u76ee\u5f55\uff0c\u7136\u540e\u901a\u8fc7 ./node_modules \u76ee\u5f55\u4e2d\u7684\u4e00\u7ea7\u4f9d\u8d56\u9879\u8fdb\u884c\u641c\u7d22\u3002 cat-component.json \u6587\u4ef6\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a name \u2013 \u7ec4\u4ef6\u7684\u540d\u79f0\uff08\u53ef\u9009\uff09\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fd9\u662f\u76ee\u5f55\u7684\u540d\u79f0\u3002 description \u2013 \u6709\u5173CAT\u7ec4\u4ef6\u7684\u4e00\u4e9b\u5176\u4ed6\u4fe1\u606f\uff08\u53ef\u9009\uff09\u3002\u867d\u7136\u76ee\u524d\u5c1a\u672a\u4f7f\u7528\uff0c\u4f46\u5df2\u4fdd\u7559\u6b64\u5c5e\u6027\u7684\u6f5c\u5728\u5c06\u6765\u529f\u80fd\u3002 template \u2013 \u7ec4\u4ef6\u6a21\u677f\u7684\u76f8\u5bf9\u8def\u5f84\uff08\u5fc5\u9700\uff09\u3002 errorTemplate \u2013 \u53d1\u751f\u9519\u8bef\u65f6\u5c06\u5448\u73b0\u7684\u7ec4\u4ef6\u9519\u8bef\u6a21\u677f\u7684\u76f8\u5bf9\u8def\u5f84\uff08\u53ef\u9009\uff09\u3002 logic \u2013 \u5bfc\u51fa\u7ec4\u4ef6\u903b\u8f91\u5bf9\u8c61\u7684\u7c7b\u6216\u6784\u9020\u51fd\u6570\u7684\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\uff08\u53ef\u9009\uff09\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5c06\u4f7f\u7528 index.js \u3002 \u6ce8\u610f \uff1a\u7ec4\u4ef6\u540d\u79f0\u59cb\u7ec8\u4ee5 cat- \u5f00\u5934\uff0c\u5e76\u4e14\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002 cat-component.json \u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 { \"name\": \"cool\", \"description\": \"Some awesome and cool cat-component\", \"template\": \"./template.hbs\", \"errorTemplate\": \"./errorTemplate.hbs\", \"logic\": \"./Cool.js\" } \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u7ec4\u4ef6\u7684\u6807\u7b7e\u540d\u79f0\u662f cat-cool \uff0c\u53ef\u4ee5\u6309\u4ee5\u4e0b\u65b9\u5f0f\u4f7f\u7528\uff1a 1 <cat-cool cat-store=\"group/store1\" some-additional=\"value\" ></cat-cool> \u91cd\u8981\u6ce8\u610f\u4e8b\u9879\uff1a \u8bbe\u7f6e cat-store \u5c5e\u6027\u4f1a\u5c06 store \u8fde\u63a5\u5230 cat-component \uff0c\u8fd9\u610f\u5473\u7740\u968f\u7740 store \u7684\u66f4\u6539\uff0c cat-component \u5c06\u81ea\u52a8\u91cd\u65b0\u5448\u73b0\u3002 \u60a8\u53ef\u4ee5\u8bbe\u7f6e\u6240\u9700\u7684\u4efb\u4f55\u5176\u4ed6\u5c5e\u6027\uff0c\u5e76\u5728\u7ec4\u4ef6\u5185\u90e8\u4f7f\u7528\u5b83\u3002 \u60a8\u5fc5\u987b\u59cb\u7ec8\u4f7f\u7528\u5f00\u59cb\u548c\u7ed3\u675f\u6807\u7b7e\uff08\u5373\uff0c\u4e0d\u5f97\u4f7f\u7528\u81ea\u95ed\u5408\u6807\u7b7e\uff09\u3002\u5927\u591a\u6570\u6d4f\u89c8\u5668\u4e0d\u6b63\u786e\u652f\u6301\u81ea\u5173\u95ed\u81ea\u5b9a\u4e49\u6807\u7b7e\u3002 \u652f\u6301\u5d4c\u5957\u7ec4\u4ef6\uff08\u5728\u7ec4\u4ef6\u6a21\u677f\u5185\u4f7f\u7528 cat-component \uff09 \u6709\u4e24\u79cd\u4fdd\u7559\u7684\u7ec4\u4ef6\u540d\u79f0\uff0c\u5b83\u4eec\u4ee5\u4e0d\u5bfb\u5e38\u7684\u65b9\u5f0f\u4f7f\u7528\uff1a document \u2013 \u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684\u6839\u6a21\u677f\uff08doctype\uff0chtml\uff0cbody\u7b49\uff09\u3002\u5b83\u4e0d\u80fd\u4f9d\u8d56\u4e8e\u4efb\u4f55\u50a8\u5b58\uff0c\u56e0\u6b64 cat-store \u5c5e\u6027\u5c06\u88ab\u5ffd\u7565\u3002 head \u2013 \u6587\u6863\u4e2dHEAD\u5143\u7d20\u7684\u7ec4\u4ef6\u3002\u5b83\u59cb\u7ec8\u4f7f\u7528\u7279\u6b8a\u7684\u5dee\u5f02/\u5408\u5e76\u6a21\u5f0f\u8fdb\u884c\u6e32\u67d3\uff0c\u5426\u5219\uff0c\u6bcf\u6b21\u90fd\u4f1a\u91cd\u65b0\u52a0\u8f7d\u6240\u6709\u6837\u5f0f\u548c\u811a\u672c\u3002\u5b83\u53ef\u4ee5\u4f9d\u8d56\u5546\u5e97\uff0c\u5e76\u4e14\u9664\u4e86\u6e32\u67d3\u65b9\u6cd5\u5916\uff0c\u8fd8\u53ef\u4ee5\u50cf\u901a\u5e38\u7684CAT\u7ec4\u4ef6\u4e00\u6837\u5de5\u4f5c\u3002 CAT\u7ec4\u4ef6\u7684\u754c\u9762 \u00b6 CAT\u7ec4\u4ef6\u7684\u903b\u8f91\u6587\u4ef6\u5e94\u5bfc\u51fa\u7528\u4e8e\u521b\u5efa\u5176\u5b9e\u4f8b\u7684\u7c7b\u6216\u6784\u9020\u51fd\u6570\u3002Catberry\u4e3a\u9875\u9762\u4e0a\u7684\u6bcf\u4e2a\u81ea\u5b9a\u4e49\u6807\u7b7e\u521b\u5efa\u4e00\u4e2a\u5355\u72ec\u7684\u5b9e\u4f8b\u3002\u53e6\u5916\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u5728\u7c7b/\u539f\u578b\u4e2d\u5b9a\u4e49\u4ee5\u4e0b\u65b9\u6cd5\uff1a render() \u2013 \u521b\u5efa\u5e76\u8fd4\u56de\u7ec4\u4ef6\u6a21\u677f\u7684\u6570\u636e\u6216Promise\u3002\u6bcf\u5f53\u7ec4\u4ef6\u7684\u81ea\u5b9a\u4e49\u6807\u7b7e\u51fa\u73b0\u5728\u9875\u9762\u4e0a\u6216\u9700\u8981\u7528\u65b0\u6570\u636e\u66f4\u65b0\u65f6\uff0c\u90fd\u4f1a\u8c03\u7528\u6b64\u65b9\u6cd5\u3002\u5728\u670d\u52a1\u5668\u548c\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u90fd\u8c03\u7528\u8be5\u65b9\u6cd5\u3002 bind() \u2013 \u521b\u5efa\u5e76\u8fd4\u56de\u5e26\u6709\u4e8b\u4ef6\u7ed1\u5b9a\u6216Promise\u7684\u5bf9\u8c61\u3002\u6bcf\u6b21\u66f4\u6539\u9875\u9762\u5e76\u91cd\u65b0\u5b89\u88c5\u7ec4\u4ef6\u65f6\uff0c\u6216\u8005\u5728\u521d\u59cb\u6587\u6863\u52a0\u8f7d\u65f6\uff0c\u4ec5\u5728\u6d4f\u89c8\u5668\u4e2d\u8c03\u7528\u6b64\u65b9\u6cd5\u3002\u8bf7\u53c2\u89c1\u4e0b\u9762\u7684\u793a\u4f8b\u3002 unbind() \u2013 \u6b64\u65b9\u6cd5\u7684\u884c\u4e3a\u7c7b\u4f3c\u4e8e\u6790\u6784\u51fd\u6570\u3002\u5982\u679c\u8981\u624b\u52a8\u5220\u9664\u67d0\u4e9b\u4e8b\u4ef6\u4fa6\u542c\u5668\u6216\u81ea\u5df1\u6e05\u7406\u540e\u4f7f\u7528\u6b64\u65b9\u6cd5\u3002\u4ec5\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u4ee5\u53ca\u6bcf\u6b21\u4eceDOM\u4e2d\u5220\u9664\u7ec4\u4ef6\u65f6\uff0c\u624d\u8c03\u7528\u8be5\u65b9\u6cd5\u3002 \u8fd9\u662f bind() \u65b9\u6cd5\u53ef\u4ee5\u8fd4\u56de\u7684\u5bf9\u8c61\u7684\u793a\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 bind() { return { click: { '.clickable': this._clickHandler, '#some-div': this._someDivHandler }, hover: { '.clickable': this._clickableHoverHandler } }; } \u6bcf\u4e2a\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u90fd\u4f1a\u81ea\u52a8\u7ed1\u5b9a\u5230\u7ec4\u4ef6\u7684\u5f53\u524d\u5b9e\u4f8b\uff0c\u60a8\u4e0d\u9700\u8981\u81ea\u5df1\u4f7f\u7528 .bind(this) \u3002\u6b64\u5916\uff0c\u60a8\u53ef\u4ee5\u5728 bind \u65b9\u6cd5\u4e2d\u624b\u52a8\u6dfb\u52a0\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u7136\u540e\u5728 unbind \u65b9\u6cd5\u4e2d\u624b\u52a8\u5c06\u5176\u5220\u9664\u3002\u4f8b\u5982\uff0c\u5904\u7406window\u5bf9\u8c61\u4e2d\u7684\u4e00\u4e9b\u5168\u5c40\u4e8b\u4ef6\u3002 \u4eceDOM\u4e2d\u5220\u9664\u8be5\u7ec4\u4ef6\u540e\uff0c\u6240\u6709\u4e8b\u4ef6\u4fa6\u542c\u5668\u90fd\u5c06\u88ab\u5220\u9664\uff0c\u7136\u540e\uff0c\u5982\u679c\u5df2\u58f0\u660e\u8be5\u7ec4\u4ef6\uff0c\u5219\u5c06\u8c03\u7528 unbind \u65b9\u6cd5\u3002 \u6ce8\u610f \uff1a\u7ec4\u4ef6\u6784\u9020\u51fd\u6570\u548c\u6e32\u67d3\u65b9\u6cd5\u5728\u670d\u52a1\u5668\u548c\u6d4f\u89c8\u5668\u4e0a\u5747\u6267\u884c\u3002\u56e0\u6b64\uff0c\u60a8\u4e0d\u80fd\u4f7f\u7528\u7279\u5b9a\u4e8e\u73af\u5883\u7684\u5168\u5c40\u5bf9\u8c61\u6216\u51fd\u6570\uff0c\u4f8b\u5982\u7a97\u53e3\uff0c\u8fdb\u7a0b\u6216DOM\u65b9\u6cd5\u3002 CAT\u7ec4\u4ef6\u7684\u4e0a\u4e0b\u5173\u7cfb \u00b6 \u6bcf\u4e2a\u7ec4\u4ef6\u7684 $ context \u90fd\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a this.$context.getStoreData() \u2013 \u83b7\u5f97\u7ec4\u4ef6\u7ed1\u5b9a\u5b58\u50a8\u7684\u6570\u636e\u7684\u627f\u8bfa\u3002\u5982\u679c\u8be5\u50a8\u5b58\u4e0d\u5b58\u5728\uff0c\u5219\u627f\u8bfa\u5c06\u88ab\u62d2\u7edd\u3002 this.$context.sendAction('name', object) \u2013 \u5c06\u64cd\u4f5c\u53d1\u9001\u5230\u7ed1\u5b9a\u5b58\u50a8\uff0c\u5e76\u8fd4\u56de\u5904\u7406\u7a0b\u5e8f\u7ed3\u679c\u7684\u627f\u8bfa\u3002\u5982\u679c\u5546\u5e97\u6ca1\u6709\u7528\u4e8e\u6b64\u64cd\u4f5c\u7684\u5904\u7406\u7a0b\u5e8f\uff0c\u5219\u7ed3\u679c\u5c06\u4e3a null \u3002 this.$context.element \u2013 \u8868\u793a\u5f53\u524d\u7ec4\u4ef6\u7684\u5f53\u524dDOM\u5143\u7d20\u3002 this.$context.attributes \u2013 \u7ec4\u4ef6\u7684DOM\u5143\u7d20\u5f53\u524d\u5177\u6709\u7684\u5c5e\u6027\u96c6\u3002. this.$context.getComponentById('id') \u2013 \u901a\u8fc7\u5176\u5143\u7d20\u7684ID\u83b7\u53d6\u53e6\u4e00\u4e2a\u7ec4\u4ef6 \u5bf9\u8c61 \u3002 this.$context.getComponentByElement(domElement) \u2013 \u901a\u8fc7\u5176DOM\u5143\u7d20\u83b7\u53d6\u53e6\u4e00\u4e2a\u7ec4\u4ef6\u7684\u5bf9\u8c61\u3002 this.$context.getComponentsByTagName('tag-name', parentComponent) \u2013 \u901a\u8fc7\u6807\u7b7e\u540d\u79f0\u83b7\u53d6\u7ec4\u4ef6 \u5bf9\u8c61 \u5217\u8868\u3002 parentComponent \u2013 \u4e00\u4e2a\u7236\u7ec4\u4ef6 \u5bf9\u8c61 \uff0c\u4ec5\u7528\u4e8e\u5728\u5d4c\u5957\u7ec4\u4ef6\u4e4b\u95f4\u67e5\u627e\uff08\u53ef\u9009\uff09\u3002 this.$context.queryComponentSelector('selector', parentComponent) \u2013 \u901a\u8fc7\u9009\u62e9\u5668\u83b7\u53d6\u7ec4\u4ef6 \u5bf9\u8c61 \u3002 parentComponent \u2013\u4e00\u4e2a\u7236\u7ec4\u4ef6 \u5bf9\u8c61 \uff0c\u4ec5\u7528\u4e8e\u5728\u5d4c\u5957\u7ec4\u4ef6\u4e4b\u95f4\u67e5\u627e\uff08\u53ef\u9009\uff09\u3002 this.$context.queryComponentSelectorAll('selector', parentComponent) \u2013 \u901a\u8fc7\u9009\u62e9\u5668\u83b7\u53d6\u7ec4\u4ef6 \u5bf9\u8c61 \u5217\u8868\u3002 parentComponent \u2013 \u4e00\u4e2a\u7236\u7ec4\u4ef6\u5bf9\u8c61\uff0c\u4ec5\u7528\u4e8e\u5728\u5d4c\u5957\u7ec4\u4ef6\u4e4b\u95f4\u67e5\u627e\uff08\u53ef\u9009\uff09\u3002 this.$context.createComponent('tagName', attributesObject) \u2013 \u521b\u5efa\u4e00\u4e2a\u65b0\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u5e76\u8fd4\u56de\u5176DOM\u5143\u7d20\u7684\u627f\u8bfa\u3002 this.$context.collectGarbage() \u2013 \u6536\u96c6\u6240\u6709\u4f7f\u7528 createComponent\uff08'tagName'\uff0cattributeObjectObject\uff09 \u65b9\u6cd5\u521b\u5efa\u7684\u7ec4\u4ef6\uff0c\u8fd9\u4e9b\u7ec4\u4ef6\u76ee\u524d\u672a\u9644\u52a0\u5230DOM\u3002 \u4ee3\u7801\u793a\u4f8b \u00b6 \u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b\uff0c\u7ec4\u4ef6\u7684\u903b\u8f91\u6587\u4ef6\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 'use strict'; class Some { /** * Creates a new instance of the \"some\" component. * @param {ServiceLocator} locator The service locator for resolving dependencies. */ constructor(locator) { // you can resolve any dependency from the locator. } /** * Gets data for the template. * This method is optional. * @returns {Promise<Object>|Object|null|undefined} Data for the template. */ render() { return this.$context.getStoreData(); } /** * Returns event binding settings for the component. * This method is optional. * @returns {Promise<Object>|Object|null|undefined} Binding settings. */ bind() { return { '.clickable': () => window.alert('Ouch!'); } } /** * Cleans up everything that has NOT been set by .bind() method. * This method is optional. * @returns {Promise|undefined} Promise of nothing. */ unbind() { // nothing to do here since we used bind properly } } module.exports = Some;","title":"CAT-\u7ec4\u4ef6"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/F/#cat-","text":"\u60a8\u53ef\u80fd\u4f1a\u8ba4\u4e3aCAT\u7ec4\u4ef6\u662f\u80e1\u987b\uff0c\u722a\u5b50\uff0c\u751a\u81f3\u662f\u5c3e\u5df4\uff0c\u4f46\u5e76\u975e\u603b\u662f\u5982\u6b64\u3002 CAT\u7ec4\u4ef6\u662f Web\u7ec4\u4ef6 \u7684\u901a\u7528\u5b9e\u73b0\uff0cWeb\u7ec4\u4ef6\u662fWeb\u7ec4\u4ef6\u89c4\u8303\u4e2d\u58f0\u660e\u7684\u529f\u80fd\u548c\u7279\u5b9a\u4e8eCatberry\u6846\u67b6\u7684\u529f\u80fd\u7684\u6df7\u5408\uff0c\u8bbe\u8ba1\u7528\u4e8e\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f5c\u4e3a NPM dependency \u53d1\u5e03\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a cat-component \u90fd\u4f7f\u7528 cat-component.json \u6587\u4ef6\u58f0\u660e\u4e3a\u76ee\u5f55\u3002\u4f46\u662f\u60a8\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u66f4\u6539\u6b64\u8bbe\u7f6e\u3002\u5f53 Catberry \u521d\u59cb\u5316\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u5b83\u5c06\u4ee5\u9879\u76ee\u6839\u76ee\u5f55\u9012\u5f52\u5730\u641c\u7d22\u6b64\u7c7b\u76ee\u5f55\uff0c\u7136\u540e\u901a\u8fc7 ./node_modules \u76ee\u5f55\u4e2d\u7684\u4e00\u7ea7\u4f9d\u8d56\u9879\u8fdb\u884c\u641c\u7d22\u3002 cat-component.json \u6587\u4ef6\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a name \u2013 \u7ec4\u4ef6\u7684\u540d\u79f0\uff08\u53ef\u9009\uff09\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fd9\u662f\u76ee\u5f55\u7684\u540d\u79f0\u3002 description \u2013 \u6709\u5173CAT\u7ec4\u4ef6\u7684\u4e00\u4e9b\u5176\u4ed6\u4fe1\u606f\uff08\u53ef\u9009\uff09\u3002\u867d\u7136\u76ee\u524d\u5c1a\u672a\u4f7f\u7528\uff0c\u4f46\u5df2\u4fdd\u7559\u6b64\u5c5e\u6027\u7684\u6f5c\u5728\u5c06\u6765\u529f\u80fd\u3002 template \u2013 \u7ec4\u4ef6\u6a21\u677f\u7684\u76f8\u5bf9\u8def\u5f84\uff08\u5fc5\u9700\uff09\u3002 errorTemplate \u2013 \u53d1\u751f\u9519\u8bef\u65f6\u5c06\u5448\u73b0\u7684\u7ec4\u4ef6\u9519\u8bef\u6a21\u677f\u7684\u76f8\u5bf9\u8def\u5f84\uff08\u53ef\u9009\uff09\u3002 logic \u2013 \u5bfc\u51fa\u7ec4\u4ef6\u903b\u8f91\u5bf9\u8c61\u7684\u7c7b\u6216\u6784\u9020\u51fd\u6570\u7684\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\uff08\u53ef\u9009\uff09\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5c06\u4f7f\u7528 index.js \u3002 \u6ce8\u610f \uff1a\u7ec4\u4ef6\u540d\u79f0\u59cb\u7ec8\u4ee5 cat- \u5f00\u5934\uff0c\u5e76\u4e14\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002 cat-component.json \u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 { \"name\": \"cool\", \"description\": \"Some awesome and cool cat-component\", \"template\": \"./template.hbs\", \"errorTemplate\": \"./errorTemplate.hbs\", \"logic\": \"./Cool.js\" } \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u7ec4\u4ef6\u7684\u6807\u7b7e\u540d\u79f0\u662f cat-cool \uff0c\u53ef\u4ee5\u6309\u4ee5\u4e0b\u65b9\u5f0f\u4f7f\u7528\uff1a 1 <cat-cool cat-store=\"group/store1\" some-additional=\"value\" ></cat-cool> \u91cd\u8981\u6ce8\u610f\u4e8b\u9879\uff1a \u8bbe\u7f6e cat-store \u5c5e\u6027\u4f1a\u5c06 store \u8fde\u63a5\u5230 cat-component \uff0c\u8fd9\u610f\u5473\u7740\u968f\u7740 store \u7684\u66f4\u6539\uff0c cat-component \u5c06\u81ea\u52a8\u91cd\u65b0\u5448\u73b0\u3002 \u60a8\u53ef\u4ee5\u8bbe\u7f6e\u6240\u9700\u7684\u4efb\u4f55\u5176\u4ed6\u5c5e\u6027\uff0c\u5e76\u5728\u7ec4\u4ef6\u5185\u90e8\u4f7f\u7528\u5b83\u3002 \u60a8\u5fc5\u987b\u59cb\u7ec8\u4f7f\u7528\u5f00\u59cb\u548c\u7ed3\u675f\u6807\u7b7e\uff08\u5373\uff0c\u4e0d\u5f97\u4f7f\u7528\u81ea\u95ed\u5408\u6807\u7b7e\uff09\u3002\u5927\u591a\u6570\u6d4f\u89c8\u5668\u4e0d\u6b63\u786e\u652f\u6301\u81ea\u5173\u95ed\u81ea\u5b9a\u4e49\u6807\u7b7e\u3002 \u652f\u6301\u5d4c\u5957\u7ec4\u4ef6\uff08\u5728\u7ec4\u4ef6\u6a21\u677f\u5185\u4f7f\u7528 cat-component \uff09 \u6709\u4e24\u79cd\u4fdd\u7559\u7684\u7ec4\u4ef6\u540d\u79f0\uff0c\u5b83\u4eec\u4ee5\u4e0d\u5bfb\u5e38\u7684\u65b9\u5f0f\u4f7f\u7528\uff1a document \u2013 \u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684\u6839\u6a21\u677f\uff08doctype\uff0chtml\uff0cbody\u7b49\uff09\u3002\u5b83\u4e0d\u80fd\u4f9d\u8d56\u4e8e\u4efb\u4f55\u50a8\u5b58\uff0c\u56e0\u6b64 cat-store \u5c5e\u6027\u5c06\u88ab\u5ffd\u7565\u3002 head \u2013 \u6587\u6863\u4e2dHEAD\u5143\u7d20\u7684\u7ec4\u4ef6\u3002\u5b83\u59cb\u7ec8\u4f7f\u7528\u7279\u6b8a\u7684\u5dee\u5f02/\u5408\u5e76\u6a21\u5f0f\u8fdb\u884c\u6e32\u67d3\uff0c\u5426\u5219\uff0c\u6bcf\u6b21\u90fd\u4f1a\u91cd\u65b0\u52a0\u8f7d\u6240\u6709\u6837\u5f0f\u548c\u811a\u672c\u3002\u5b83\u53ef\u4ee5\u4f9d\u8d56\u5546\u5e97\uff0c\u5e76\u4e14\u9664\u4e86\u6e32\u67d3\u65b9\u6cd5\u5916\uff0c\u8fd8\u53ef\u4ee5\u50cf\u901a\u5e38\u7684CAT\u7ec4\u4ef6\u4e00\u6837\u5de5\u4f5c\u3002","title":"CAT-\u7ec4\u4ef6"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/F/#cat","text":"CAT\u7ec4\u4ef6\u7684\u903b\u8f91\u6587\u4ef6\u5e94\u5bfc\u51fa\u7528\u4e8e\u521b\u5efa\u5176\u5b9e\u4f8b\u7684\u7c7b\u6216\u6784\u9020\u51fd\u6570\u3002Catberry\u4e3a\u9875\u9762\u4e0a\u7684\u6bcf\u4e2a\u81ea\u5b9a\u4e49\u6807\u7b7e\u521b\u5efa\u4e00\u4e2a\u5355\u72ec\u7684\u5b9e\u4f8b\u3002\u53e6\u5916\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u5728\u7c7b/\u539f\u578b\u4e2d\u5b9a\u4e49\u4ee5\u4e0b\u65b9\u6cd5\uff1a render() \u2013 \u521b\u5efa\u5e76\u8fd4\u56de\u7ec4\u4ef6\u6a21\u677f\u7684\u6570\u636e\u6216Promise\u3002\u6bcf\u5f53\u7ec4\u4ef6\u7684\u81ea\u5b9a\u4e49\u6807\u7b7e\u51fa\u73b0\u5728\u9875\u9762\u4e0a\u6216\u9700\u8981\u7528\u65b0\u6570\u636e\u66f4\u65b0\u65f6\uff0c\u90fd\u4f1a\u8c03\u7528\u6b64\u65b9\u6cd5\u3002\u5728\u670d\u52a1\u5668\u548c\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u90fd\u8c03\u7528\u8be5\u65b9\u6cd5\u3002 bind() \u2013 \u521b\u5efa\u5e76\u8fd4\u56de\u5e26\u6709\u4e8b\u4ef6\u7ed1\u5b9a\u6216Promise\u7684\u5bf9\u8c61\u3002\u6bcf\u6b21\u66f4\u6539\u9875\u9762\u5e76\u91cd\u65b0\u5b89\u88c5\u7ec4\u4ef6\u65f6\uff0c\u6216\u8005\u5728\u521d\u59cb\u6587\u6863\u52a0\u8f7d\u65f6\uff0c\u4ec5\u5728\u6d4f\u89c8\u5668\u4e2d\u8c03\u7528\u6b64\u65b9\u6cd5\u3002\u8bf7\u53c2\u89c1\u4e0b\u9762\u7684\u793a\u4f8b\u3002 unbind() \u2013 \u6b64\u65b9\u6cd5\u7684\u884c\u4e3a\u7c7b\u4f3c\u4e8e\u6790\u6784\u51fd\u6570\u3002\u5982\u679c\u8981\u624b\u52a8\u5220\u9664\u67d0\u4e9b\u4e8b\u4ef6\u4fa6\u542c\u5668\u6216\u81ea\u5df1\u6e05\u7406\u540e\u4f7f\u7528\u6b64\u65b9\u6cd5\u3002\u4ec5\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u4ee5\u53ca\u6bcf\u6b21\u4eceDOM\u4e2d\u5220\u9664\u7ec4\u4ef6\u65f6\uff0c\u624d\u8c03\u7528\u8be5\u65b9\u6cd5\u3002 \u8fd9\u662f bind() \u65b9\u6cd5\u53ef\u4ee5\u8fd4\u56de\u7684\u5bf9\u8c61\u7684\u793a\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 bind() { return { click: { '.clickable': this._clickHandler, '#some-div': this._someDivHandler }, hover: { '.clickable': this._clickableHoverHandler } }; } \u6bcf\u4e2a\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u90fd\u4f1a\u81ea\u52a8\u7ed1\u5b9a\u5230\u7ec4\u4ef6\u7684\u5f53\u524d\u5b9e\u4f8b\uff0c\u60a8\u4e0d\u9700\u8981\u81ea\u5df1\u4f7f\u7528 .bind(this) \u3002\u6b64\u5916\uff0c\u60a8\u53ef\u4ee5\u5728 bind \u65b9\u6cd5\u4e2d\u624b\u52a8\u6dfb\u52a0\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u7136\u540e\u5728 unbind \u65b9\u6cd5\u4e2d\u624b\u52a8\u5c06\u5176\u5220\u9664\u3002\u4f8b\u5982\uff0c\u5904\u7406window\u5bf9\u8c61\u4e2d\u7684\u4e00\u4e9b\u5168\u5c40\u4e8b\u4ef6\u3002 \u4eceDOM\u4e2d\u5220\u9664\u8be5\u7ec4\u4ef6\u540e\uff0c\u6240\u6709\u4e8b\u4ef6\u4fa6\u542c\u5668\u90fd\u5c06\u88ab\u5220\u9664\uff0c\u7136\u540e\uff0c\u5982\u679c\u5df2\u58f0\u660e\u8be5\u7ec4\u4ef6\uff0c\u5219\u5c06\u8c03\u7528 unbind \u65b9\u6cd5\u3002 \u6ce8\u610f \uff1a\u7ec4\u4ef6\u6784\u9020\u51fd\u6570\u548c\u6e32\u67d3\u65b9\u6cd5\u5728\u670d\u52a1\u5668\u548c\u6d4f\u89c8\u5668\u4e0a\u5747\u6267\u884c\u3002\u56e0\u6b64\uff0c\u60a8\u4e0d\u80fd\u4f7f\u7528\u7279\u5b9a\u4e8e\u73af\u5883\u7684\u5168\u5c40\u5bf9\u8c61\u6216\u51fd\u6570\uff0c\u4f8b\u5982\u7a97\u53e3\uff0c\u8fdb\u7a0b\u6216DOM\u65b9\u6cd5\u3002","title":"CAT\u7ec4\u4ef6\u7684\u754c\u9762"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/F/#cat_1","text":"\u6bcf\u4e2a\u7ec4\u4ef6\u7684 $ context \u90fd\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a this.$context.getStoreData() \u2013 \u83b7\u5f97\u7ec4\u4ef6\u7ed1\u5b9a\u5b58\u50a8\u7684\u6570\u636e\u7684\u627f\u8bfa\u3002\u5982\u679c\u8be5\u50a8\u5b58\u4e0d\u5b58\u5728\uff0c\u5219\u627f\u8bfa\u5c06\u88ab\u62d2\u7edd\u3002 this.$context.sendAction('name', object) \u2013 \u5c06\u64cd\u4f5c\u53d1\u9001\u5230\u7ed1\u5b9a\u5b58\u50a8\uff0c\u5e76\u8fd4\u56de\u5904\u7406\u7a0b\u5e8f\u7ed3\u679c\u7684\u627f\u8bfa\u3002\u5982\u679c\u5546\u5e97\u6ca1\u6709\u7528\u4e8e\u6b64\u64cd\u4f5c\u7684\u5904\u7406\u7a0b\u5e8f\uff0c\u5219\u7ed3\u679c\u5c06\u4e3a null \u3002 this.$context.element \u2013 \u8868\u793a\u5f53\u524d\u7ec4\u4ef6\u7684\u5f53\u524dDOM\u5143\u7d20\u3002 this.$context.attributes \u2013 \u7ec4\u4ef6\u7684DOM\u5143\u7d20\u5f53\u524d\u5177\u6709\u7684\u5c5e\u6027\u96c6\u3002. this.$context.getComponentById('id') \u2013 \u901a\u8fc7\u5176\u5143\u7d20\u7684ID\u83b7\u53d6\u53e6\u4e00\u4e2a\u7ec4\u4ef6 \u5bf9\u8c61 \u3002 this.$context.getComponentByElement(domElement) \u2013 \u901a\u8fc7\u5176DOM\u5143\u7d20\u83b7\u53d6\u53e6\u4e00\u4e2a\u7ec4\u4ef6\u7684\u5bf9\u8c61\u3002 this.$context.getComponentsByTagName('tag-name', parentComponent) \u2013 \u901a\u8fc7\u6807\u7b7e\u540d\u79f0\u83b7\u53d6\u7ec4\u4ef6 \u5bf9\u8c61 \u5217\u8868\u3002 parentComponent \u2013 \u4e00\u4e2a\u7236\u7ec4\u4ef6 \u5bf9\u8c61 \uff0c\u4ec5\u7528\u4e8e\u5728\u5d4c\u5957\u7ec4\u4ef6\u4e4b\u95f4\u67e5\u627e\uff08\u53ef\u9009\uff09\u3002 this.$context.queryComponentSelector('selector', parentComponent) \u2013 \u901a\u8fc7\u9009\u62e9\u5668\u83b7\u53d6\u7ec4\u4ef6 \u5bf9\u8c61 \u3002 parentComponent \u2013\u4e00\u4e2a\u7236\u7ec4\u4ef6 \u5bf9\u8c61 \uff0c\u4ec5\u7528\u4e8e\u5728\u5d4c\u5957\u7ec4\u4ef6\u4e4b\u95f4\u67e5\u627e\uff08\u53ef\u9009\uff09\u3002 this.$context.queryComponentSelectorAll('selector', parentComponent) \u2013 \u901a\u8fc7\u9009\u62e9\u5668\u83b7\u53d6\u7ec4\u4ef6 \u5bf9\u8c61 \u5217\u8868\u3002 parentComponent \u2013 \u4e00\u4e2a\u7236\u7ec4\u4ef6\u5bf9\u8c61\uff0c\u4ec5\u7528\u4e8e\u5728\u5d4c\u5957\u7ec4\u4ef6\u4e4b\u95f4\u67e5\u627e\uff08\u53ef\u9009\uff09\u3002 this.$context.createComponent('tagName', attributesObject) \u2013 \u521b\u5efa\u4e00\u4e2a\u65b0\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u5e76\u8fd4\u56de\u5176DOM\u5143\u7d20\u7684\u627f\u8bfa\u3002 this.$context.collectGarbage() \u2013 \u6536\u96c6\u6240\u6709\u4f7f\u7528 createComponent\uff08'tagName'\uff0cattributeObjectObject\uff09 \u65b9\u6cd5\u521b\u5efa\u7684\u7ec4\u4ef6\uff0c\u8fd9\u4e9b\u7ec4\u4ef6\u76ee\u524d\u672a\u9644\u52a0\u5230DOM\u3002","title":"CAT\u7ec4\u4ef6\u7684\u4e0a\u4e0b\u5173\u7cfb"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/F/#_1","text":"\u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b\uff0c\u7ec4\u4ef6\u7684\u903b\u8f91\u6587\u4ef6\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 'use strict'; class Some { /** * Creates a new instance of the \"some\" component. * @param {ServiceLocator} locator The service locator for resolving dependencies. */ constructor(locator) { // you can resolve any dependency from the locator. } /** * Gets data for the template. * This method is optional. * @returns {Promise<Object>|Object|null|undefined} Data for the template. */ render() { return this.$context.getStoreData(); } /** * Returns event binding settings for the component. * This method is optional. * @returns {Promise<Object>|Object|null|undefined} Binding settings. */ bind() { return { '.clickable': () => window.alert('Ouch!'); } } /** * Cleans up everything that has NOT been set by .bind() method. * This method is optional. * @returns {Promise|undefined} Promise of nothing. */ unbind() { // nothing to do here since we used bind properly } } module.exports = Some;","title":"\u4ee3\u7801\u793a\u4f8b"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/G/","text":"\u5e94\u7528\u7a0b\u5e8f\u7ed3\u6784\u793a\u4f8b \u00b6 \u901a\u5e38\uff0c\u9879\u76ee\u7ed3\u6784\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 ./catberry_stores/ group1/ store1.js store2.js group2/ store1.js store2.js store1.js store2.js ./catberry_components/ document/ index.js template.hbs cat-component.json component1/ index.js template.hbs errorTemplate.hbs cat-component.json # directory for your own external (not Catberry) modules/services ./lib/ # this directory is a default destination for browser bundle building ./public/ app.js externals.js # entry script for the browser environment ./browser.js # route definitions ./routes.js # entry script for the server environment ./server.js \u5982\u679c\u60a8\u5e0c\u671b\u4ee5\u5b8c\u6210\u7684\u5e94\u7528\u7a0b\u5e8f\u4e3a\u4f8b\uff0c\u8bf7\u8f6c\u5230\u793a\u4f8b\u76ee\u5f55\u3002","title":"\u5e94\u7528\u7a0b\u5e8f\u7ed3\u6784\u793a\u4f8b"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/G/#_1","text":"\u901a\u5e38\uff0c\u9879\u76ee\u7ed3\u6784\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 ./catberry_stores/ group1/ store1.js store2.js group2/ store1.js store2.js store1.js store2.js ./catberry_components/ document/ index.js template.hbs cat-component.json component1/ index.js template.hbs errorTemplate.hbs cat-component.json # directory for your own external (not Catberry) modules/services ./lib/ # this directory is a default destination for browser bundle building ./public/ app.js externals.js # entry script for the browser environment ./browser.js # route definitions ./routes.js # entry script for the server environment ./server.js \u5982\u679c\u60a8\u5e0c\u671b\u4ee5\u5b8c\u6210\u7684\u5e94\u7528\u7a0b\u5e8f\u4e3a\u4f8b\uff0c\u8bf7\u8f6c\u5230\u793a\u4f8b\u76ee\u5f55\u3002","title":"\u5e94\u7528\u7a0b\u5e8f\u7ed3\u6784\u793a\u4f8b"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/H/","text":"\u8def\u7531 \u00b6 Catberry\u7684\u8def\u7531\u7cfb\u7edf\u7684\u8bed\u6cd5\u7c7b\u4f3c\u4e8eRails\uff0c\u4f46\u662f\u8fd8\u5177\u6709\u5176\u4ed6\u4e00\u4e9b\u529f\u80fd\u3002\u6bcf\u4e2a\u8def\u7531\u5b9a\u4e49\u90fd\u5728URI\u4e2d\u8bbe\u7f6e\u53ef\u80fd\u5b58\u5728\u5b58\u50a8\u53c2\u6570\u7684\u4f4d\u7f6e\u3002\u6bcf\u4e2a\u53c2\u6570\u90fd\u7ed1\u5b9a\u5230\u50a8\u5b58\u5217\u8868\uff0c\u5e76\u4e14\u5728\u66f4\u6539\u5b83\u65f6\uff08\u4f8b\u5982\uff0c\u901a\u8fc7\u5355\u51fb\u94fe\u63a5\uff09\uff0c\u6240\u6709\u5546\u5e97\u76f8\u5173\u8005\u4f1a\u81ea\u52a8\u89e6\u53d1\u5176\u66f4\u6539\u4e8b\u4ef6\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u4f7f\u7528\u65b0\u6570\u636e\u91cd\u65b0\u6e32\u67d3\u7ed1\u5b9a\u5230\u5546\u5e97\u7684\u6240\u6709CAT\u7ec4\u4ef6\u3002 \u8fd9\u4e9b\u8def\u7531\u5b9a\u4e49\u653e\u7f6e\u5728\u6587\u4ef6./routes.js\u4e2d\u3002 \u8def\u7531\u5b9a\u4e49\u662f\u4e00\u4e2a\u89c4\u5219\uff0c\u7528\u4e8e\u63cf\u8ff0Catberry\u5904\u7406\u54ea\u4e9bURI\uff0cCatberry\u53ef\u4ee5\u4ece\u8fd9\u4e9bURI\u89e3\u6790\u54ea\u4e9b\u53c2\u6570\u4ee5\u53ca\u54ea\u4e9b\u5b58\u50a8\u533a\u5c06\u63a5\u6536\u89e3\u6790\u7684\u53c2\u6570\u3002 \u5b57\u7b26\u4e32\u4e2d\u7528\u5192\u53f7\u6807\u8bb0\u7684\u53c2\u6570 \u00b6 \u9ed8\u8ba4\u5b9a\u4e49\u8bed\u6cd5\u5982\u4e0b\uff1a 1 /some/:id[store1,store2]/actions?someParameter=:parameter[store1] \u6240\u6709\u53c2\u6570\u90fd\u5e94\u5728\u5f00\u5934\u52a0\u4e0a\u5192\u53f7\uff0c\u5e76\u53ef\u4ee5\u9009\u62e9\u5728\u5176\u540e\u8ddf\u968f\u5c06\u63a5\u6536\u6b64\u53c2\u6570\u503c\u7684\u50a8\u5b58\u540d\u79f0\u5217\u8868\u3002\u8fd9\u4e9b\u50a8\u5b58\u79f0\u4e3a\u50a8\u5b58\u76f8\u5173\u8005\u3002\u6b64\u5217\u8868\u4e5f\u53ef\u4ee5\u4e3a\u7a7a\u3002 \u5728\u524d\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5c06 id \u503c\u8bbe\u7f6e\u4e3a store1 \u548c store2 \uff1b\u5e76\u4e14\u4ec5\u5c06\u53c2\u6570\u503c\u8bbe\u7f6e\u4e3a\u5546\u5e97 store1 \u3002 \u8bf7\u8bb0\u4f4f\uff0c\u8def\u7531\u5b9a\u4e49\u4e2d\u7684\u53c2\u6570\u540d\u79f0\u5fc5\u987b\u6ee1\u8db3\u6b63\u5219\u8868\u8fbe\u5f0f [$ A-Z _] [\\\\ dA-Z _ $] * \uff0c\u5e76\u4e14\u53c2\u6570\u503c\u5e94\u6ee1\u8db3\u6b63\u5219\u8868\u8fbe\u5f0f [^ \\\\\\ /\uff06?=]* \u3002 \u8def\u5f84\u6bb5\uff0c\u67e5\u8be2\u540d\u79f0\u6216\u67e5\u8be2\u503c\u4e2d\u7684\u4efb\u4f55\u53c2\u6570\u90fd\u53ef\u4ee5\u7528\u6587\u672c\u548c\u5176\u4ed6\u53c2\u6570\u5305\u56f4\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 /item-:id[store1,store2]/actions?some-:queryName1[store1]-:queryName2[store2]=cool-:parameter[store1] \u547d\u540d\u8def\u7531\u548cURI\u751f\u6210 \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528 this.$ context.getRouteURI\uff08'routeName'\uff0cparameters\uff09 \u65b9\u6cd5\u4e3a\u8def\u7531\u547d\u540d\u3002\u6b64\u65b9\u6cd5\u5c06\u53c2\u6570\u503c\u7c98\u8d34\u5230\u8def\u7531\u8868\u8fbe\u5f0f\u4e2d\uff0c\u800c\u4e0d\u662f\u201c\u5192\u53f7\u6807\u8bb0\u7684\u53c2\u6570\u201d\u8bed\u6cd5\u4e2d\u3002\u56e0\u6b64\uff0c\u60a8\u62e5\u6709\u4e00\u4e2aURI\uff0c\u53ef\u5728\u6a21\u677f\u5185\u7684\u94fe\u63a5\u4e2d\u4f7f\u7528\u8be5URI\u6765\u5728\u5e94\u7528\u5185\u8fdb\u884c\u8def\u7531\u3002 \u4f8b\u5982\uff0c\u60a8\u6709\u4e00\u6761\u8def\u7ebf\u5b9a\u4e49\uff1a 1 2 3 4 { name: 'myRoute', expression: '/some/:id[store1,store2]/actions?someParameter=:parameter[store1]' } \u5e76\u4e14\u60a8\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\u8c03\u7528\u8be5\u65b9\u6cd5\uff1a 1 2 3 4 this.$context.getRouteURI('myRoute', { id: 'uniqueId', parameter: 'someValue' }); \u5b83\u4f1a\u8fd4\u56de\u5982\u4e0b\u7ed3\u679c\uff1a 1 /some/uniqueId/actions?someParameter=someValue \u540c\u6837\uff0c\u5982\u679c\u50cf\u6211\u4eec\u5728\u6b64\u7279\u5b9a\u793a\u4f8b\u4e2d\u90a3\u6837\u4f7f\u7528\u53c2\u6570\u4f5c\u4e3a\u67e5\u8be2\u5b57\u7b26\u4e32\u503c \uff08\uff1aparameter [store1]\uff09 \uff0c\u5219\u53ef\u4ee5\u5c06Array\u6307\u5b9a\u4e3a\u8fd9\u6837\u7684\u503c\uff1a 1 2 3 4 this.$context.getRouteURI('myRoute', { id: 'uniqueId', parameter: ['first', 'second', 'third'] }); \u8fd9\u5c06\u8fd4\u56de\u5982\u4e0b\u7ed3\u679c\uff1a 1 /some/uniqueId/actions?someParameter=first&someParameter=second&someParameter=third \u5e26\u6709\u5192\u53f7\u6807\u8bb0\u7684\u53c2\u6570\u4ee5\u53ca\u5176\u4ed6\u6620\u5c04\u529f\u80fd \u00b6 \u540c\u6837\uff0c\u60a8\u53ef\u4ee5\u5b9a\u4e49\u6620\u5c04\u5668\u5bf9\u8c61\uff0c\u8be5\u6620\u5c04\u5668\u5141\u8bb8\u60a8\u5728Catberry\u5904\u7406\u5e94\u7528\u7a0b\u5e8f\u72b6\u6001\u5bf9\u8c61\u4e4b\u524d\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002 \u5982\u679c\u8981\u4f7f\u7528\u6620\u5c04\u529f\u80fd\uff0c\u53ea\u9700\u5b9a\u4e49\u5982\u4e0b\u8def\u5f84\uff1a 1 2 3 4 5 6 7 { expression: '/user/news/:category[news]', map(state) { state.news.pageType = 'userNews'; return state; } } \u6620\u5c04\u529f\u80fd\u63a5\u6536\u7531\u8def\u7ebf\u5b9a\u4e49\u5b57\u7b26\u4e32\u51c6\u5907\u7684\u72b6\u6001\u3002\u72b6\u6001\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u952e\u662f\u50a8\u5b58\u540d\u79f0\uff0c\u503c\u662f\u6bcf\u4e2a\u50a8\u5b58\u7684\u72b6\u6001\u5bf9\u8c61\u3002\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u66f4\u6539\u6574\u4e2a\u72b6\u6001\u5bf9\u8c61\uff0c\u7136\u540e\u4ecemap\u51fd\u6570\u8fd4\u56de\u5b83\u3002 \u5728\u4e0a\u9762\u7684\u6b64\u793a\u4f8b\u4e2d\uff0c\u5546\u5e97 news \u5c06\u63a5\u6536\u5e26\u6709\u503c userNews \u7684\u9644\u52a0\u72b6\u6001\u53c2\u6570 pageType \u3002 \u6b63\u5219\u8868\u8fbe\u5f0f \u00b6 \u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u80fd\u4ecd\u9700\u8981\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u89e3\u6790\u53c2\u6570\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u5982\u4e0b\u5b9a\u4e49\u4e00\u4e2a\u6620\u5c04\u5668\u5bf9\u8c61\uff1a 1 2 3 4 5 6 7 8 9 10 11 { expression: /^\\/orders\\/\\d+/i, map(uri) { const matches = uri.path.match(/^\\/orders\\/(\\d+)/i); return { order:{ orderId: Number(matches[1]) } }; } } \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5546\u5e97 order \u5c06\u63a5\u6536\u53c2\u6570 orderId \uff0c\u5176\u503c\u4e0eURL\u4e2d\u7684\u6570\u5b57\u5339\u914d\u3002 \u5e26\u6709\u4efb\u4f55\u67e5\u8be2\u53c2\u6570\u7684URL \u00b6 \u5982\u679c\u8def\u7531\u5b9a\u4e49\u5305\u542b\u4efb\u4f55\u67e5\u8be2\u53c2\u6570\uff0c\u5219\u5b83\u4eec\u59cb\u7ec8\u662f\u53ef\u9009\u7684\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5177\u6709\u4ee5\u4e0b\u8def\u7531\u5b9a\u4e49\uff1a 1 /some/:id[store1,store2]/actions?a=:p1[store1]&b=:p2[store1]&c=:p3[store1] \u60a8\u5c1d\u8bd5\u8def\u7531\u8fd9\u6837\u7684URL\uff1a 1 /some/1/actions?b=123 \u60a8\u5c06\u6536\u5230\u72b6\u6001\uff1a 1 2 3 4 5 6 7 8 9 { store1: { id: '1', p2: '123' }, store2: { id: '1' } } \u53c2\u6570 p1 \u548c p3 \u88ab\u8df3\u8fc7\u3002\u5b8c\u5168\u6ca1\u6709\u4efb\u4f55\u67e5\u8be2\u53c2\u6570\u7684URL\u4e5f\u5c06\u88ab\u8def\u7531\u3002 1 /some/1/actions \u5e76\u4e14\u60a8\u5c06\u6536\u5230\u4ee5\u4e0b\u72b6\u6001\uff1a 1 2 3 4 5 6 7 8 { store1: { id: '1' }, store2: { id: '1' } } \u6587\u4ef6\u793a\u4f8b \u00b6 \u8fd9\u662f ./routes.js \u6587\u4ef6\u7684\u793a\u4f8b\uff0c\u5176\u4e2d\u5305\u542b\u6240\u67093\u79cd\u60c5\u51b5\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 module.exports = [ // 1. simple string expression '/user/:id[user,menu,notifications]', // 2. the string expression with the 'map' function { expression: '/user/news/:category[news]', map(state) { state.news.pageType = 'userNews'; return state; } }, // 3. the regular expression with the 'map' function { expression: /^\\/orders\\/\\d+/i, map(urlPath) { const matches = urlPath.match(/^\\/orders\\/(\\d+)/i); return { orderId: Number(matches[1]) }; } } ];","title":"\u8def\u7531"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/H/#_1","text":"Catberry\u7684\u8def\u7531\u7cfb\u7edf\u7684\u8bed\u6cd5\u7c7b\u4f3c\u4e8eRails\uff0c\u4f46\u662f\u8fd8\u5177\u6709\u5176\u4ed6\u4e00\u4e9b\u529f\u80fd\u3002\u6bcf\u4e2a\u8def\u7531\u5b9a\u4e49\u90fd\u5728URI\u4e2d\u8bbe\u7f6e\u53ef\u80fd\u5b58\u5728\u5b58\u50a8\u53c2\u6570\u7684\u4f4d\u7f6e\u3002\u6bcf\u4e2a\u53c2\u6570\u90fd\u7ed1\u5b9a\u5230\u50a8\u5b58\u5217\u8868\uff0c\u5e76\u4e14\u5728\u66f4\u6539\u5b83\u65f6\uff08\u4f8b\u5982\uff0c\u901a\u8fc7\u5355\u51fb\u94fe\u63a5\uff09\uff0c\u6240\u6709\u5546\u5e97\u76f8\u5173\u8005\u4f1a\u81ea\u52a8\u89e6\u53d1\u5176\u66f4\u6539\u4e8b\u4ef6\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u4f7f\u7528\u65b0\u6570\u636e\u91cd\u65b0\u6e32\u67d3\u7ed1\u5b9a\u5230\u5546\u5e97\u7684\u6240\u6709CAT\u7ec4\u4ef6\u3002 \u8fd9\u4e9b\u8def\u7531\u5b9a\u4e49\u653e\u7f6e\u5728\u6587\u4ef6./routes.js\u4e2d\u3002 \u8def\u7531\u5b9a\u4e49\u662f\u4e00\u4e2a\u89c4\u5219\uff0c\u7528\u4e8e\u63cf\u8ff0Catberry\u5904\u7406\u54ea\u4e9bURI\uff0cCatberry\u53ef\u4ee5\u4ece\u8fd9\u4e9bURI\u89e3\u6790\u54ea\u4e9b\u53c2\u6570\u4ee5\u53ca\u54ea\u4e9b\u5b58\u50a8\u533a\u5c06\u63a5\u6536\u89e3\u6790\u7684\u53c2\u6570\u3002","title":"\u8def\u7531"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/H/#_2","text":"\u9ed8\u8ba4\u5b9a\u4e49\u8bed\u6cd5\u5982\u4e0b\uff1a 1 /some/:id[store1,store2]/actions?someParameter=:parameter[store1] \u6240\u6709\u53c2\u6570\u90fd\u5e94\u5728\u5f00\u5934\u52a0\u4e0a\u5192\u53f7\uff0c\u5e76\u53ef\u4ee5\u9009\u62e9\u5728\u5176\u540e\u8ddf\u968f\u5c06\u63a5\u6536\u6b64\u53c2\u6570\u503c\u7684\u50a8\u5b58\u540d\u79f0\u5217\u8868\u3002\u8fd9\u4e9b\u50a8\u5b58\u79f0\u4e3a\u50a8\u5b58\u76f8\u5173\u8005\u3002\u6b64\u5217\u8868\u4e5f\u53ef\u4ee5\u4e3a\u7a7a\u3002 \u5728\u524d\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5c06 id \u503c\u8bbe\u7f6e\u4e3a store1 \u548c store2 \uff1b\u5e76\u4e14\u4ec5\u5c06\u53c2\u6570\u503c\u8bbe\u7f6e\u4e3a\u5546\u5e97 store1 \u3002 \u8bf7\u8bb0\u4f4f\uff0c\u8def\u7531\u5b9a\u4e49\u4e2d\u7684\u53c2\u6570\u540d\u79f0\u5fc5\u987b\u6ee1\u8db3\u6b63\u5219\u8868\u8fbe\u5f0f [$ A-Z _] [\\\\ dA-Z _ $] * \uff0c\u5e76\u4e14\u53c2\u6570\u503c\u5e94\u6ee1\u8db3\u6b63\u5219\u8868\u8fbe\u5f0f [^ \\\\\\ /\uff06?=]* \u3002 \u8def\u5f84\u6bb5\uff0c\u67e5\u8be2\u540d\u79f0\u6216\u67e5\u8be2\u503c\u4e2d\u7684\u4efb\u4f55\u53c2\u6570\u90fd\u53ef\u4ee5\u7528\u6587\u672c\u548c\u5176\u4ed6\u53c2\u6570\u5305\u56f4\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 /item-:id[store1,store2]/actions?some-:queryName1[store1]-:queryName2[store2]=cool-:parameter[store1]","title":"\u5b57\u7b26\u4e32\u4e2d\u7528\u5192\u53f7\u6807\u8bb0\u7684\u53c2\u6570"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/H/#uri","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528 this.$ context.getRouteURI\uff08'routeName'\uff0cparameters\uff09 \u65b9\u6cd5\u4e3a\u8def\u7531\u547d\u540d\u3002\u6b64\u65b9\u6cd5\u5c06\u53c2\u6570\u503c\u7c98\u8d34\u5230\u8def\u7531\u8868\u8fbe\u5f0f\u4e2d\uff0c\u800c\u4e0d\u662f\u201c\u5192\u53f7\u6807\u8bb0\u7684\u53c2\u6570\u201d\u8bed\u6cd5\u4e2d\u3002\u56e0\u6b64\uff0c\u60a8\u62e5\u6709\u4e00\u4e2aURI\uff0c\u53ef\u5728\u6a21\u677f\u5185\u7684\u94fe\u63a5\u4e2d\u4f7f\u7528\u8be5URI\u6765\u5728\u5e94\u7528\u5185\u8fdb\u884c\u8def\u7531\u3002 \u4f8b\u5982\uff0c\u60a8\u6709\u4e00\u6761\u8def\u7ebf\u5b9a\u4e49\uff1a 1 2 3 4 { name: 'myRoute', expression: '/some/:id[store1,store2]/actions?someParameter=:parameter[store1]' } \u5e76\u4e14\u60a8\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\u8c03\u7528\u8be5\u65b9\u6cd5\uff1a 1 2 3 4 this.$context.getRouteURI('myRoute', { id: 'uniqueId', parameter: 'someValue' }); \u5b83\u4f1a\u8fd4\u56de\u5982\u4e0b\u7ed3\u679c\uff1a 1 /some/uniqueId/actions?someParameter=someValue \u540c\u6837\uff0c\u5982\u679c\u50cf\u6211\u4eec\u5728\u6b64\u7279\u5b9a\u793a\u4f8b\u4e2d\u90a3\u6837\u4f7f\u7528\u53c2\u6570\u4f5c\u4e3a\u67e5\u8be2\u5b57\u7b26\u4e32\u503c \uff08\uff1aparameter [store1]\uff09 \uff0c\u5219\u53ef\u4ee5\u5c06Array\u6307\u5b9a\u4e3a\u8fd9\u6837\u7684\u503c\uff1a 1 2 3 4 this.$context.getRouteURI('myRoute', { id: 'uniqueId', parameter: ['first', 'second', 'third'] }); \u8fd9\u5c06\u8fd4\u56de\u5982\u4e0b\u7ed3\u679c\uff1a 1 /some/uniqueId/actions?someParameter=first&someParameter=second&someParameter=third","title":"\u547d\u540d\u8def\u7531\u548cURI\u751f\u6210"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/H/#_3","text":"\u540c\u6837\uff0c\u60a8\u53ef\u4ee5\u5b9a\u4e49\u6620\u5c04\u5668\u5bf9\u8c61\uff0c\u8be5\u6620\u5c04\u5668\u5141\u8bb8\u60a8\u5728Catberry\u5904\u7406\u5e94\u7528\u7a0b\u5e8f\u72b6\u6001\u5bf9\u8c61\u4e4b\u524d\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002 \u5982\u679c\u8981\u4f7f\u7528\u6620\u5c04\u529f\u80fd\uff0c\u53ea\u9700\u5b9a\u4e49\u5982\u4e0b\u8def\u5f84\uff1a 1 2 3 4 5 6 7 { expression: '/user/news/:category[news]', map(state) { state.news.pageType = 'userNews'; return state; } } \u6620\u5c04\u529f\u80fd\u63a5\u6536\u7531\u8def\u7ebf\u5b9a\u4e49\u5b57\u7b26\u4e32\u51c6\u5907\u7684\u72b6\u6001\u3002\u72b6\u6001\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u952e\u662f\u50a8\u5b58\u540d\u79f0\uff0c\u503c\u662f\u6bcf\u4e2a\u50a8\u5b58\u7684\u72b6\u6001\u5bf9\u8c61\u3002\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u66f4\u6539\u6574\u4e2a\u72b6\u6001\u5bf9\u8c61\uff0c\u7136\u540e\u4ecemap\u51fd\u6570\u8fd4\u56de\u5b83\u3002 \u5728\u4e0a\u9762\u7684\u6b64\u793a\u4f8b\u4e2d\uff0c\u5546\u5e97 news \u5c06\u63a5\u6536\u5e26\u6709\u503c userNews \u7684\u9644\u52a0\u72b6\u6001\u53c2\u6570 pageType \u3002","title":"\u5e26\u6709\u5192\u53f7\u6807\u8bb0\u7684\u53c2\u6570\u4ee5\u53ca\u5176\u4ed6\u6620\u5c04\u529f\u80fd"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/H/#_4","text":"\u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u80fd\u4ecd\u9700\u8981\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u89e3\u6790\u53c2\u6570\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u5982\u4e0b\u5b9a\u4e49\u4e00\u4e2a\u6620\u5c04\u5668\u5bf9\u8c61\uff1a 1 2 3 4 5 6 7 8 9 10 11 { expression: /^\\/orders\\/\\d+/i, map(uri) { const matches = uri.path.match(/^\\/orders\\/(\\d+)/i); return { order:{ orderId: Number(matches[1]) } }; } } \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5546\u5e97 order \u5c06\u63a5\u6536\u53c2\u6570 orderId \uff0c\u5176\u503c\u4e0eURL\u4e2d\u7684\u6570\u5b57\u5339\u914d\u3002","title":"\u6b63\u5219\u8868\u8fbe\u5f0f"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/H/#url","text":"\u5982\u679c\u8def\u7531\u5b9a\u4e49\u5305\u542b\u4efb\u4f55\u67e5\u8be2\u53c2\u6570\uff0c\u5219\u5b83\u4eec\u59cb\u7ec8\u662f\u53ef\u9009\u7684\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5177\u6709\u4ee5\u4e0b\u8def\u7531\u5b9a\u4e49\uff1a 1 /some/:id[store1,store2]/actions?a=:p1[store1]&b=:p2[store1]&c=:p3[store1] \u60a8\u5c1d\u8bd5\u8def\u7531\u8fd9\u6837\u7684URL\uff1a 1 /some/1/actions?b=123 \u60a8\u5c06\u6536\u5230\u72b6\u6001\uff1a 1 2 3 4 5 6 7 8 9 { store1: { id: '1', p2: '123' }, store2: { id: '1' } } \u53c2\u6570 p1 \u548c p3 \u88ab\u8df3\u8fc7\u3002\u5b8c\u5168\u6ca1\u6709\u4efb\u4f55\u67e5\u8be2\u53c2\u6570\u7684URL\u4e5f\u5c06\u88ab\u8def\u7531\u3002 1 /some/1/actions \u5e76\u4e14\u60a8\u5c06\u6536\u5230\u4ee5\u4e0b\u72b6\u6001\uff1a 1 2 3 4 5 6 7 8 { store1: { id: '1' }, store2: { id: '1' } }","title":"\u5e26\u6709\u4efb\u4f55\u67e5\u8be2\u53c2\u6570\u7684URL"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/H/#_5","text":"\u8fd9\u662f ./routes.js \u6587\u4ef6\u7684\u793a\u4f8b\uff0c\u5176\u4e2d\u5305\u542b\u6240\u67093\u79cd\u60c5\u51b5\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 module.exports = [ // 1. simple string expression '/user/:id[user,menu,notifications]', // 2. the string expression with the 'map' function { expression: '/user/news/:category[news]', map(state) { state.news.pageType = 'userNews'; return state; } }, // 3. the regular expression with the 'map' function { expression: /^\\/orders\\/\\d+/i, map(urlPath) { const matches = urlPath.match(/^\\/orders\\/(\\d+)/i); return { orderId: Number(matches[1]) }; } } ];","title":"\u6587\u4ef6\u793a\u4f8b"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/I/","text":"Catberry \u670d\u52a1 \u00b6 \u5728Catberry\u4e2d\uff0c\u6bcf\u4e2a\u6846\u67b6\u7684\u7ec4\u4ef6/\u6a21\u5757\uff08\u4f8b\u5982Logger\u6216\u201c\u901a\u7528HTTP\uff08S\uff09\u8bf7\u6c42\u201d\uff09\u90fd\u79f0\u4e3a\u201c\u670d\u52a1\u201d\u3002 \u6574\u4e2aCatberry\u7684\u4f53\u7cfb\u7ed3\u6784\u90fd\u662f\u4f7f\u7528 Service Locator \u6a21\u5f0f\u6784\u5efa\u7684\u3002\u670d\u52a1\u5b9a\u4f4d\u5668\u662fCatberry\u7684\u6838\u5fc3\u7ec4\u4ef6\uff0c\u7528\u4e8e\u5b58\u50a8\u6709\u5173\u6bcf\u4e2aCatberry\u7ec4\u4ef6\uff08\u670d\u52a1\uff09\u7684\u6240\u6709\u4fe1\u606f\u3002\u5728\u67d0\u4e9b\u5176\u4ed6\u5e73\u53f0\u4e0a\uff0c\u5b83\u7c7b\u4f3c\u4e8e IoC \u5bb9\u5668\u3002\u56e0\u6b64\uff0c\u4f8b\u5982\uff0c\u5982\u679c\u4efb\u4f55\u7ec4\u4ef6\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5219\u53ea\u9700\u4ece\u5176\u6784\u9020\u51fd\u6570\u5185\u90e8\u7684Service Locator\u5bf9\u5176\u8fdb\u884c\u89e3\u6790\u5373\u53ef\u3002\u5982\u679c\u8be5\u4f9d\u8d56\u5173\u7cfb\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u4f9d\u8d56\u5173\u7cfb\uff0c\u5219\u5b83\u4f1a\u6267\u884c\u76f8\u540c\u7684\u64cd\u4f5c\u6765\u89e3\u6790\u6574\u4e2a\u4f9d\u8d56\u5173\u7cfb\u56fe\u3002 \u4f8b\u5982\uff0c\u6bcf\u4e2a\u670d\u52a1\uff08\u5305\u62ec\u7528\u6237\u5b9a\u4e49\u7684\u670d\u52a1\uff09\u90fd\u53ef\u4ee5\u8981\u6c42\u201c\u8bb0\u5f55\u5668\u201d\u670d\u52a1\u6765\u5c06\u6d88\u606f\u8bb0\u5f55\u5230\u63a7\u5236\u53f0\uff1a 1 2 3 4 5 class Some { constructor(locator) { this._logger = locator.resolve('logger'); } } \u5f53Catberry\u521d\u59cb\u5316\u81ea\u8eab\u65f6\uff0c\u5b83\u4f1a\u5c06\u5176\u6240\u6709\u670d\u52a1\u6ce8\u518c\u5230Service Locator\u4e2d\uff0c\u4f46\u662f\u6846\u67b6\u7528\u6237\u8fd8\u53ef\u4ee5\u6ce8\u518c\u81ea\u5df1\u7684\u63d2\u4ef6\uff08\u670d\u52a1\uff09\uff0c\u751a\u81f3\u8986\u76d6\u73b0\u6709Catberry\u670d\u52a1\u7684\u5b9e\u73b0\u3002 \u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u559c\u6b22\u7684\u8bb0\u5f55\u5668\u66ff\u6362\u670d\u52a1\u5b9a\u4f4d\u5668\u4e2d\u7684\u8bb0\u5f55\u5668\u670d\u52a1\uff0c\u53ea\u9700\u7f16\u5199\u4e00\u4e2a\u4e0e Catberry \"logger\" \u670d\u52a1 \u7684\u63a5\u53e3\u5339\u914d\u7684\u9002\u914d\u5668\uff0c\u7136\u540e\u6309\u5982\u4e0b\u6240\u793a\u8fdb\u884c\u6ce8\u518c\uff1a 1 2 const cat = catberry.create(); cat.locator.registerInstance('logger', MyCoolLogger); \u8981\u6ce8\u518c\u81ea\u5df1\u7684\u670d\u52a1\uff0c\u8bf7\u8bb0\u4f4f\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u5728\u670d\u52a1\u5668\u548c\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u4f7f\u7528\u4e0d\u540c\u7684\u670d\u52a1\u5b9e\u73b0\u3002\u4f46\u662f\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u8fd9\u5e76\u4e0d\u91cd\u8981\u3002 \u5728\u4e0b\u4e00\u90e8\u5206\u4e2d\u4e86\u89e3\u66f4\u591a\u5982\u4f55\u4f7f\u7528\u670d\u52a1\u5b9a\u4f4d\u5668\u7684\u4fe1\u606f\u3002 \u5b9a\u4f4d\u5668\u670d\u52a1 \u00b6 Catberry\u6846\u67b6\u7684\u6574\u4e2a\u67b6\u6784\u90fd\u57fa\u4e8e \u5b9a\u4f4d\u5668\u6a21\u5f0f\u670d\u52a1 . \u6ce8\u518c\u81ea\u5df1\u7684\u670d\u52a1 \u00b6 Catberry\u5e94\u7528\u7a0b\u5e8f\u4e2d\u53ea\u6709\u4e00\u4e2a\u670d\u52a1\u5b9a\u4f4d\u5668\uff08\u5355\u4f8b\uff09\uff0c\u5e76\u4e14\u6240\u6709Catberry\u670d\u52a1\u90fd\u53ef\u4ee5\u4ece\u8be5\u5b9a\u4f4d\u5668\u89e3\u6790\u3002\u670d\u52a1\u5668\u4e0a\u7684 getMiddleware \u65b9\u6cd5\u8c03\u7528\u6216\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u7684 startWhenReady \u65b9\u6cd5\u6b63\u5728\u89e3\u51b3\u6240\u6709\u4f9d\u8d56\u9879\u3002 \u5728\u6b64\u4e4b\u524d\uff0c\u8bf7\u968f\u65f6\u6ce8\u518c\u60a8\u81ea\u5df1\u7684\u670d\u52a1\u3002 \u60a8\u7684Catberry\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u5177\u6709 ./server.js \u6587\u4ef6\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 const catberry = require ( 'catberry' ); const RestApiClient = require ( './lib/RestApiClient' ); const express = require ( 'express' ); const config = require ( './server-config' ); const cat = catberry . create ( config ); const app = express (); // when you have created an instance of the Catberry application // you can register anything you want in the Service Locator. // last \"true\" value means that the instance of your service is a singleton cat . locator . register ( 'restApiClient' , RestApiClient , true ); // you can register services only before this method below app . use ( cat . getMiddleware ()); // now Catberry already has initialized the whole infrastructure of services app . use ( connect . errorHandler ()); http . createServer ( app ) . listen ( config . server . port || 3000 ); \u53e6\u5916\uff0c\u5bf9\u4e8e\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u5177\u6709 ./browser.js \u6587\u4ef6\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 const catberry = require ( 'catberry' ); const RestApiClient = require ( './lib/RestApiClient' ); const config = require ( './browser-config' ); const cat = catberry . create ( config ); // when you have created an instance of the Catberry application // you can register anything you want in the Service Locator. // last \"true\" value means that the instance of your service is a singleton cat . locator . register ( 'restApiClient' , RestApiClient , true ); // you can register services only before this method below: cat . startWhenReady (); // returns promise // now Catberry has already initialized the entire infrastructure of services \u53e6\u5916\uff0c\u60a8\u53ef\u4ee5\u8986\u76d6\u73b0\u6709\u7684\u670d\u52a1\u6ce8\u518c\uff0c\u4f8b\u5982Logger\uff1a 1 cat.locator.register('logger', MyCoolLogger, true); \u5b83\u6ce8\u518c\u4e86logger\u670d\u52a1\u7684\u53e6\u4e00\u4e2a\u5b9e\u73b0\uff0c\u5e76\u4e14Catberry\u59cb\u7ec8\u4f7f\u7528\u6bcf\u4e2a\u670d\u52a1\u7684\u6700\u540e\u6ce8\u518c\u7684\u5b9e\u73b0\u3002 \u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528 resolveAll\uff08\uff09 \u65b9\u6cd5\u8bbf\u95ee\u4efb\u4f55\u670d\u52a1\u7684\u6240\u6709\u6ce8\u518c\u5b9e\u73b0\u3002\u4f46\u662f\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u6ca1\u6709\u4f7f\u7528\u6307\u5b9a\u540d\u79f0\u7684\u5b9e\u73b0\uff0c\u5b9a\u4f4d\u5668\u5c06\u5f15\u53d1\u9519\u8bef\u3002 \u6bcf\u4e2a\u670d\u52a1\u7684\u6784\u9020\u51fd\u6570\u90fd\u6709\u552f\u4e00\u7684\u53c2\u6570\u2013\u670d\u52a1\u5b9a\u4f4d\u7b26\u672c\u8eab\uff0c\u60a8\u53ef\u4ee5\u5728\u5176\u4e2d\u89e3\u6790\u4efb\u4f55\u5176\u4ed6\u4f9d\u8d56\u5173\u7cfb\u3002 \u8bf7\u8bb0\u4f4f\uff0c\u60a8\u5fc5\u987b\u907f\u514d\u5faa\u73af\u4f9d\u8d56\uff0c\u5b83\u4eec\u4f1a\u5bfc\u81f4\u65e0\u9650\u5faa\u73af\u3002 \u53e6\u8bf7\u9605\u8bfb\uff1a \u5b9a\u4f4d\u5668\u754c\u9762\u670d\u52a1 \u7528\u6237\u533a\u670d\u52a1\uff1a \u8bb0\u5f55\u4eea \u914d\u7f6e \u901a\u7528HTTP\uff08S\uff09\u8bf7\u6c42 \u8bb0\u5f55\u4eea \u00b6 Catberry\u7684\u6838\u5fc3\u4e0d\u5305\u542b\u8bb0\u5f55\u5668\u670d\u52a1\uff0c\u4f46\u662f\u5177\u6709\u7528\u4e8e\u5b9e\u73b0\u8bb0\u5f55\u5668\u63d2\u4ef6\u7684API\u3002\u5982\u679c\u4e3a\u9002\u914d\u5668\u521b\u5efa\u9002\u914d\u5668\uff0c\u8ba9\u5176\u8ba2\u9605Catberry\u4e2d\u7684\u51e0\u4e2a\u91cd\u8981\u4e8b\u4ef6\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u6240\u9700\u7684\u4efb\u4f55\u65e5\u5fd7\u8bb0\u5f55\u5668\u3002 \u4f5c\u4e3a\u5b9e\u73b0\u7684\u793a\u4f8b\uff0c\u5728\u6240\u6709CLI\u63d0\u4f9b\u7684\u9879\u76ee\u6a21\u677f\u4e2d\u90fd\u6709\u4e00\u4e2a stupid console logger \u3002 \u8bf7\u8bb0\u4f4f\uff0c\u5982\u679c\u60a8\u4e0d\u5c06\u4efb\u4f55\u8bb0\u5f55\u5668\u4e0eCatberry\u4e00\u8d77\u4f7f\u7528\uff0c\u5219\u5e94\u81ea\u884c\u5904\u7406 \u8fdb\u7a0b\u201c uncaughtException\u201d \u548c window.onerror \uff0c\u5426\u5219\u5e94\u7528\u7a0b\u5e8f\u5c06\u5728\u670d\u52a1\u5668\u4e0a\u9000\u51fa\uff0c\u5e76\u5728\u51fa\u73b0\u4efb\u4f55\u81f4\u547d\u9519\u8bef\u65f6\u505c\u6b62\u5728\u6d4f\u89c8\u5668\u4e2d\u6267\u884c\u53d1\u751f\u3002 \u5982\u679c\u60a8\u6709\u4e00\u4e2a\u7531CLI\u751f\u6210\u7684\u9879\u76ee\uff0c\u5219\u65e0\u9700\u62c5\u5fc3\uff0c\u6240\u6709\u81f4\u547d\u9519\u8bef\u90fd\u5c06\u7531\u4f5c\u4e3aCatberry\u63d2\u4ef6\u9644\u5e26\u7684\u9ed8\u8ba4\u63a7\u5236\u53f0\u8bb0\u5f55\u5668\u5904\u7406\u3002 \u914d\u7f6e \u00b6 Catberry\u5177\u6709\u5728 \u670d\u52a1\u5b9a\u4f4d\u5668 \u4e2d\u6ce8\u518c\u4e3a\u201c\u914d\u7f6e\u201d\u670d\u52a1\u7684\u914d\u7f6e\u5bf9\u8c61\u3002 \u5982\u679c\u9700\u8981\uff0c\u53ea\u9700\u4ece\u670d\u52a1\u5b9a\u4f4d\u5668\u89e3\u6790 \u914d\u7f6e \u5373\u53ef\u3002 \u8be5\u670d\u52a1\u53ea\u662f\u4f20\u9012\u7ed9 catberry.create\uff08\uff09 \u65b9\u6cd5\u7684\u5b8c\u6574\u914d\u7f6e\u5bf9\u8c61\u3002 Catberry\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\uff1a componentsGlob \u2013 \u7528\u4e8e\u53d1\u73b0CAT\u7ec4\u4ef6\u7684glob\u8868\u8fbe\u5f0f\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u6570\u7ec4\uff0c\u4e5f\u53ef\u4ee5\u53ea\u662f\u5b57\u7b26\u4e32\uff08\u9ed8\u8ba4\u4e3a ['catberry_components / ** / cat-component.json'\uff0c'node_modules / * / cat-component.json']\uff09 \u3002 storesGlob \u2013 \u7528\u4e8e\u53d1\u73b0\u50a8\u5b58\u7684glob\u8868\u8fbe\u5f0f\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a ** / *s \uff09\u3002 storesDirectory \u2013 \u5305\u542b\u50a8\u5b58\u7684\u76ee\u5f55\u7684\u76f8\u5bf9\u8def\u5f84\uff08\u9ed8\u8ba4\u4e3a ./catberry_stores \uff09\u3002 publicDirectoryPath \u2013 \u516c\u5171\u76ee\u5f55\u7684\u8def\u5f84\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a ./public \uff09\u3002 appBundleFilename \u2013 \u5e94\u7528\u7a0b\u5e8f\u7684\u6d4f\u89c8\u5668\u6346\u7ed1\u6587\u4ef6\u7684\u540d\u79f0\uff08\u9ed8\u8ba4\u4e3a app.js \uff09\u3002 externalsBundleFilename \u2013 \u5916\u90e8\u5e93\uff08 node_modules \u76ee\u5f55\u4e2d\u4efb\u4f55\u5fc5\u9700\u7684\u5e93\uff09\u7684\u6d4f\u89c8\u5668\u6346\u7ed1\u6587\u4ef6\u7684\u540d\u79f0\uff08\u9ed8\u8ba4\u4e3a externals.js \uff09\u3002","title":"Catberry \u670d\u52a1"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/I/#catberry","text":"\u5728Catberry\u4e2d\uff0c\u6bcf\u4e2a\u6846\u67b6\u7684\u7ec4\u4ef6/\u6a21\u5757\uff08\u4f8b\u5982Logger\u6216\u201c\u901a\u7528HTTP\uff08S\uff09\u8bf7\u6c42\u201d\uff09\u90fd\u79f0\u4e3a\u201c\u670d\u52a1\u201d\u3002 \u6574\u4e2aCatberry\u7684\u4f53\u7cfb\u7ed3\u6784\u90fd\u662f\u4f7f\u7528 Service Locator \u6a21\u5f0f\u6784\u5efa\u7684\u3002\u670d\u52a1\u5b9a\u4f4d\u5668\u662fCatberry\u7684\u6838\u5fc3\u7ec4\u4ef6\uff0c\u7528\u4e8e\u5b58\u50a8\u6709\u5173\u6bcf\u4e2aCatberry\u7ec4\u4ef6\uff08\u670d\u52a1\uff09\u7684\u6240\u6709\u4fe1\u606f\u3002\u5728\u67d0\u4e9b\u5176\u4ed6\u5e73\u53f0\u4e0a\uff0c\u5b83\u7c7b\u4f3c\u4e8e IoC \u5bb9\u5668\u3002\u56e0\u6b64\uff0c\u4f8b\u5982\uff0c\u5982\u679c\u4efb\u4f55\u7ec4\u4ef6\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5219\u53ea\u9700\u4ece\u5176\u6784\u9020\u51fd\u6570\u5185\u90e8\u7684Service Locator\u5bf9\u5176\u8fdb\u884c\u89e3\u6790\u5373\u53ef\u3002\u5982\u679c\u8be5\u4f9d\u8d56\u5173\u7cfb\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u4f9d\u8d56\u5173\u7cfb\uff0c\u5219\u5b83\u4f1a\u6267\u884c\u76f8\u540c\u7684\u64cd\u4f5c\u6765\u89e3\u6790\u6574\u4e2a\u4f9d\u8d56\u5173\u7cfb\u56fe\u3002 \u4f8b\u5982\uff0c\u6bcf\u4e2a\u670d\u52a1\uff08\u5305\u62ec\u7528\u6237\u5b9a\u4e49\u7684\u670d\u52a1\uff09\u90fd\u53ef\u4ee5\u8981\u6c42\u201c\u8bb0\u5f55\u5668\u201d\u670d\u52a1\u6765\u5c06\u6d88\u606f\u8bb0\u5f55\u5230\u63a7\u5236\u53f0\uff1a 1 2 3 4 5 class Some { constructor(locator) { this._logger = locator.resolve('logger'); } } \u5f53Catberry\u521d\u59cb\u5316\u81ea\u8eab\u65f6\uff0c\u5b83\u4f1a\u5c06\u5176\u6240\u6709\u670d\u52a1\u6ce8\u518c\u5230Service Locator\u4e2d\uff0c\u4f46\u662f\u6846\u67b6\u7528\u6237\u8fd8\u53ef\u4ee5\u6ce8\u518c\u81ea\u5df1\u7684\u63d2\u4ef6\uff08\u670d\u52a1\uff09\uff0c\u751a\u81f3\u8986\u76d6\u73b0\u6709Catberry\u670d\u52a1\u7684\u5b9e\u73b0\u3002 \u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u559c\u6b22\u7684\u8bb0\u5f55\u5668\u66ff\u6362\u670d\u52a1\u5b9a\u4f4d\u5668\u4e2d\u7684\u8bb0\u5f55\u5668\u670d\u52a1\uff0c\u53ea\u9700\u7f16\u5199\u4e00\u4e2a\u4e0e Catberry \"logger\" \u670d\u52a1 \u7684\u63a5\u53e3\u5339\u914d\u7684\u9002\u914d\u5668\uff0c\u7136\u540e\u6309\u5982\u4e0b\u6240\u793a\u8fdb\u884c\u6ce8\u518c\uff1a 1 2 const cat = catberry.create(); cat.locator.registerInstance('logger', MyCoolLogger); \u8981\u6ce8\u518c\u81ea\u5df1\u7684\u670d\u52a1\uff0c\u8bf7\u8bb0\u4f4f\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u5728\u670d\u52a1\u5668\u548c\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u4f7f\u7528\u4e0d\u540c\u7684\u670d\u52a1\u5b9e\u73b0\u3002\u4f46\u662f\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u8fd9\u5e76\u4e0d\u91cd\u8981\u3002 \u5728\u4e0b\u4e00\u90e8\u5206\u4e2d\u4e86\u89e3\u66f4\u591a\u5982\u4f55\u4f7f\u7528\u670d\u52a1\u5b9a\u4f4d\u5668\u7684\u4fe1\u606f\u3002","title":"Catberry \u670d\u52a1"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/I/#_1","text":"Catberry\u6846\u67b6\u7684\u6574\u4e2a\u67b6\u6784\u90fd\u57fa\u4e8e \u5b9a\u4f4d\u5668\u6a21\u5f0f\u670d\u52a1 .","title":"\u5b9a\u4f4d\u5668\u670d\u52a1"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/I/#_2","text":"Catberry\u5e94\u7528\u7a0b\u5e8f\u4e2d\u53ea\u6709\u4e00\u4e2a\u670d\u52a1\u5b9a\u4f4d\u5668\uff08\u5355\u4f8b\uff09\uff0c\u5e76\u4e14\u6240\u6709Catberry\u670d\u52a1\u90fd\u53ef\u4ee5\u4ece\u8be5\u5b9a\u4f4d\u5668\u89e3\u6790\u3002\u670d\u52a1\u5668\u4e0a\u7684 getMiddleware \u65b9\u6cd5\u8c03\u7528\u6216\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u7684 startWhenReady \u65b9\u6cd5\u6b63\u5728\u89e3\u51b3\u6240\u6709\u4f9d\u8d56\u9879\u3002 \u5728\u6b64\u4e4b\u524d\uff0c\u8bf7\u968f\u65f6\u6ce8\u518c\u60a8\u81ea\u5df1\u7684\u670d\u52a1\u3002 \u60a8\u7684Catberry\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u5177\u6709 ./server.js \u6587\u4ef6\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 const catberry = require ( 'catberry' ); const RestApiClient = require ( './lib/RestApiClient' ); const express = require ( 'express' ); const config = require ( './server-config' ); const cat = catberry . create ( config ); const app = express (); // when you have created an instance of the Catberry application // you can register anything you want in the Service Locator. // last \"true\" value means that the instance of your service is a singleton cat . locator . register ( 'restApiClient' , RestApiClient , true ); // you can register services only before this method below app . use ( cat . getMiddleware ()); // now Catberry already has initialized the whole infrastructure of services app . use ( connect . errorHandler ()); http . createServer ( app ) . listen ( config . server . port || 3000 ); \u53e6\u5916\uff0c\u5bf9\u4e8e\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u5177\u6709 ./browser.js \u6587\u4ef6\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 const catberry = require ( 'catberry' ); const RestApiClient = require ( './lib/RestApiClient' ); const config = require ( './browser-config' ); const cat = catberry . create ( config ); // when you have created an instance of the Catberry application // you can register anything you want in the Service Locator. // last \"true\" value means that the instance of your service is a singleton cat . locator . register ( 'restApiClient' , RestApiClient , true ); // you can register services only before this method below: cat . startWhenReady (); // returns promise // now Catberry has already initialized the entire infrastructure of services \u53e6\u5916\uff0c\u60a8\u53ef\u4ee5\u8986\u76d6\u73b0\u6709\u7684\u670d\u52a1\u6ce8\u518c\uff0c\u4f8b\u5982Logger\uff1a 1 cat.locator.register('logger', MyCoolLogger, true); \u5b83\u6ce8\u518c\u4e86logger\u670d\u52a1\u7684\u53e6\u4e00\u4e2a\u5b9e\u73b0\uff0c\u5e76\u4e14Catberry\u59cb\u7ec8\u4f7f\u7528\u6bcf\u4e2a\u670d\u52a1\u7684\u6700\u540e\u6ce8\u518c\u7684\u5b9e\u73b0\u3002 \u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528 resolveAll\uff08\uff09 \u65b9\u6cd5\u8bbf\u95ee\u4efb\u4f55\u670d\u52a1\u7684\u6240\u6709\u6ce8\u518c\u5b9e\u73b0\u3002\u4f46\u662f\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u6ca1\u6709\u4f7f\u7528\u6307\u5b9a\u540d\u79f0\u7684\u5b9e\u73b0\uff0c\u5b9a\u4f4d\u5668\u5c06\u5f15\u53d1\u9519\u8bef\u3002 \u6bcf\u4e2a\u670d\u52a1\u7684\u6784\u9020\u51fd\u6570\u90fd\u6709\u552f\u4e00\u7684\u53c2\u6570\u2013\u670d\u52a1\u5b9a\u4f4d\u7b26\u672c\u8eab\uff0c\u60a8\u53ef\u4ee5\u5728\u5176\u4e2d\u89e3\u6790\u4efb\u4f55\u5176\u4ed6\u4f9d\u8d56\u5173\u7cfb\u3002 \u8bf7\u8bb0\u4f4f\uff0c\u60a8\u5fc5\u987b\u907f\u514d\u5faa\u73af\u4f9d\u8d56\uff0c\u5b83\u4eec\u4f1a\u5bfc\u81f4\u65e0\u9650\u5faa\u73af\u3002 \u53e6\u8bf7\u9605\u8bfb\uff1a \u5b9a\u4f4d\u5668\u754c\u9762\u670d\u52a1 \u7528\u6237\u533a\u670d\u52a1\uff1a \u8bb0\u5f55\u4eea \u914d\u7f6e \u901a\u7528HTTP\uff08S\uff09\u8bf7\u6c42","title":"\u6ce8\u518c\u81ea\u5df1\u7684\u670d\u52a1"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/I/#_3","text":"Catberry\u7684\u6838\u5fc3\u4e0d\u5305\u542b\u8bb0\u5f55\u5668\u670d\u52a1\uff0c\u4f46\u662f\u5177\u6709\u7528\u4e8e\u5b9e\u73b0\u8bb0\u5f55\u5668\u63d2\u4ef6\u7684API\u3002\u5982\u679c\u4e3a\u9002\u914d\u5668\u521b\u5efa\u9002\u914d\u5668\uff0c\u8ba9\u5176\u8ba2\u9605Catberry\u4e2d\u7684\u51e0\u4e2a\u91cd\u8981\u4e8b\u4ef6\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u6240\u9700\u7684\u4efb\u4f55\u65e5\u5fd7\u8bb0\u5f55\u5668\u3002 \u4f5c\u4e3a\u5b9e\u73b0\u7684\u793a\u4f8b\uff0c\u5728\u6240\u6709CLI\u63d0\u4f9b\u7684\u9879\u76ee\u6a21\u677f\u4e2d\u90fd\u6709\u4e00\u4e2a stupid console logger \u3002 \u8bf7\u8bb0\u4f4f\uff0c\u5982\u679c\u60a8\u4e0d\u5c06\u4efb\u4f55\u8bb0\u5f55\u5668\u4e0eCatberry\u4e00\u8d77\u4f7f\u7528\uff0c\u5219\u5e94\u81ea\u884c\u5904\u7406 \u8fdb\u7a0b\u201c uncaughtException\u201d \u548c window.onerror \uff0c\u5426\u5219\u5e94\u7528\u7a0b\u5e8f\u5c06\u5728\u670d\u52a1\u5668\u4e0a\u9000\u51fa\uff0c\u5e76\u5728\u51fa\u73b0\u4efb\u4f55\u81f4\u547d\u9519\u8bef\u65f6\u505c\u6b62\u5728\u6d4f\u89c8\u5668\u4e2d\u6267\u884c\u53d1\u751f\u3002 \u5982\u679c\u60a8\u6709\u4e00\u4e2a\u7531CLI\u751f\u6210\u7684\u9879\u76ee\uff0c\u5219\u65e0\u9700\u62c5\u5fc3\uff0c\u6240\u6709\u81f4\u547d\u9519\u8bef\u90fd\u5c06\u7531\u4f5c\u4e3aCatberry\u63d2\u4ef6\u9644\u5e26\u7684\u9ed8\u8ba4\u63a7\u5236\u53f0\u8bb0\u5f55\u5668\u5904\u7406\u3002","title":"\u8bb0\u5f55\u4eea"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/I/#_4","text":"Catberry\u5177\u6709\u5728 \u670d\u52a1\u5b9a\u4f4d\u5668 \u4e2d\u6ce8\u518c\u4e3a\u201c\u914d\u7f6e\u201d\u670d\u52a1\u7684\u914d\u7f6e\u5bf9\u8c61\u3002 \u5982\u679c\u9700\u8981\uff0c\u53ea\u9700\u4ece\u670d\u52a1\u5b9a\u4f4d\u5668\u89e3\u6790 \u914d\u7f6e \u5373\u53ef\u3002 \u8be5\u670d\u52a1\u53ea\u662f\u4f20\u9012\u7ed9 catberry.create\uff08\uff09 \u65b9\u6cd5\u7684\u5b8c\u6574\u914d\u7f6e\u5bf9\u8c61\u3002 Catberry\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\uff1a componentsGlob \u2013 \u7528\u4e8e\u53d1\u73b0CAT\u7ec4\u4ef6\u7684glob\u8868\u8fbe\u5f0f\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u6570\u7ec4\uff0c\u4e5f\u53ef\u4ee5\u53ea\u662f\u5b57\u7b26\u4e32\uff08\u9ed8\u8ba4\u4e3a ['catberry_components / ** / cat-component.json'\uff0c'node_modules / * / cat-component.json']\uff09 \u3002 storesGlob \u2013 \u7528\u4e8e\u53d1\u73b0\u50a8\u5b58\u7684glob\u8868\u8fbe\u5f0f\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a ** / *s \uff09\u3002 storesDirectory \u2013 \u5305\u542b\u50a8\u5b58\u7684\u76ee\u5f55\u7684\u76f8\u5bf9\u8def\u5f84\uff08\u9ed8\u8ba4\u4e3a ./catberry_stores \uff09\u3002 publicDirectoryPath \u2013 \u516c\u5171\u76ee\u5f55\u7684\u8def\u5f84\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a ./public \uff09\u3002 appBundleFilename \u2013 \u5e94\u7528\u7a0b\u5e8f\u7684\u6d4f\u89c8\u5668\u6346\u7ed1\u6587\u4ef6\u7684\u540d\u79f0\uff08\u9ed8\u8ba4\u4e3a app.js \uff09\u3002 externalsBundleFilename \u2013 \u5916\u90e8\u5e93\uff08 node_modules \u76ee\u5f55\u4e2d\u4efb\u4f55\u5fc5\u9700\u7684\u5e93\uff09\u7684\u6d4f\u89c8\u5668\u6346\u7ed1\u6587\u4ef6\u7684\u540d\u79f0\uff08\u9ed8\u8ba4\u4e3a externals.js \uff09\u3002","title":"\u914d\u7f6e"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/J/","text":"Cookie \u00b6 \u60a8\u53ef\u80fd\u4f1a\u6ce8\u610f\u5230\uff0c\u5546\u5e97\u548cCAT\u7ec4\u4ef6\u4e0a\u4e0b\u6587\u5177\u6709\u5c5e\u6027cookie\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u662f\u4e00\u4e2a\u901a\u7528\u5305\u88c5\u5668\uff0c\u53ef\u4ee5\u4ee5\u4e0e\u73af\u5883\u65e0\u5173\u7684\u65b9\u5f0f get \u6216 set cookie\u3002 \u5b83\u5177\u6709\u4ee5\u4e0b\u754c\u9762\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 /** * Gets a map of cookie values by their names. * @returns {Object} The cookies map by their names. */ getAll (); /** * Gets a cookie value by its name. * @param {string} name The cookie name. * @returns {string} The cookie value. */ get ( name ); /** * Gets current cookie string. * @returns {string} Cookie string. */ getCookieString (); /** * Sets cookie to this wrapper. * @param {Object} cookieSetup Cookie setup object. * @param {string} cookieSetup.key Cookie key. * @param {string} cookieSetup.value Cookie value. * @param {number?} cookieSetup.maxAge Max cookie age in seconds. * @param {Date?} cookieSetup.expires Expire date. * @param {string?} cookieSetup.path URI path for cookie. * @param {string?} cookieSetup.domain Cookie domain. * @param {boolean?} cookieSetup.secure Is cookie secured. * @param {boolean?} cookieSetup.httpOnly Is cookie HTTP only. * @returns {string} Cookie setup string. */ set ( cookieSetup );","title":"Cookie"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/J/#cookie","text":"\u60a8\u53ef\u80fd\u4f1a\u6ce8\u610f\u5230\uff0c\u5546\u5e97\u548cCAT\u7ec4\u4ef6\u4e0a\u4e0b\u6587\u5177\u6709\u5c5e\u6027cookie\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u662f\u4e00\u4e2a\u901a\u7528\u5305\u88c5\u5668\uff0c\u53ef\u4ee5\u4ee5\u4e0e\u73af\u5883\u65e0\u5173\u7684\u65b9\u5f0f get \u6216 set cookie\u3002 \u5b83\u5177\u6709\u4ee5\u4e0b\u754c\u9762\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 /** * Gets a map of cookie values by their names. * @returns {Object} The cookies map by their names. */ getAll (); /** * Gets a cookie value by its name. * @param {string} name The cookie name. * @returns {string} The cookie value. */ get ( name ); /** * Gets current cookie string. * @returns {string} Cookie string. */ getCookieString (); /** * Sets cookie to this wrapper. * @param {Object} cookieSetup Cookie setup object. * @param {string} cookieSetup.key Cookie key. * @param {string} cookieSetup.value Cookie value. * @param {number?} cookieSetup.maxAge Max cookie age in seconds. * @param {Date?} cookieSetup.expires Expire date. * @param {string?} cookieSetup.path URI path for cookie. * @param {string?} cookieSetup.domain Cookie domain. * @param {boolean?} cookieSetup.secure Is cookie secured. * @param {boolean?} cookieSetup.httpOnly Is cookie HTTP only. * @returns {string} Cookie setup string. */ set ( cookieSetup );","title":"Cookie"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/K/","text":"\u6a21\u677f\u5f15\u64ce \u00b6 Catberry\u652f\u6301\u4efb\u4f55\u5177\u6709\u201c\u5b57\u7b26\u4e32\u9884\u7f16\u8bd1\u201d\u529f\u80fd\u7684\u6a21\u677f\u5f15\u64ce\u3002 \u5b98\u65b9\u652f\u6301\uff1a Dust Handlebars Pug \u60a8\u4e5f\u53ef\u4ee5\u4e3a\u4efb\u4f55\u6a21\u677f\u5f15\u64ce\u521b\u5efa\u81ea\u5df1\u7684\u9002\u914d\u5668\uff0c\u53ea\u9700\u770b\u4e00\u4e0b\u73b0\u6709\u7684 Handlebars \u9002\u914d\u5668\u5373\u53ef\u3002 \u8981\u8bbe\u7f6e\u6a21\u677f\u5f15\u64ce\uff0c\u60a8\u53ea\u9700\u8981\u6ce8\u518c\u6a21\u677f\u63d0\u4f9b\u8005\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 const handlebars = require ( 'catberry-handlebars' ); const cat = catberry . create ( config ); handlebars . register ( cat . locator ); \u5b9e\u9645\u4e0a\uff0c Catberry CLI \u4e3a\u60a8\u505a\u5230\u4e86\uff0c\u8bf7\u53c2\u9605CLI\u3002","title":"\u6a21\u677f\u5f15\u64ce"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/K/#_1","text":"Catberry\u652f\u6301\u4efb\u4f55\u5177\u6709\u201c\u5b57\u7b26\u4e32\u9884\u7f16\u8bd1\u201d\u529f\u80fd\u7684\u6a21\u677f\u5f15\u64ce\u3002 \u5b98\u65b9\u652f\u6301\uff1a Dust Handlebars Pug \u60a8\u4e5f\u53ef\u4ee5\u4e3a\u4efb\u4f55\u6a21\u677f\u5f15\u64ce\u521b\u5efa\u81ea\u5df1\u7684\u9002\u914d\u5668\uff0c\u53ea\u9700\u770b\u4e00\u4e0b\u73b0\u6709\u7684 Handlebars \u9002\u914d\u5668\u5373\u53ef\u3002 \u8981\u8bbe\u7f6e\u6a21\u677f\u5f15\u64ce\uff0c\u60a8\u53ea\u9700\u8981\u6ce8\u518c\u6a21\u677f\u63d0\u4f9b\u8005\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 const handlebars = require ( 'catberry-handlebars' ); const cat = catberry . create ( config ); handlebars . register ( cat . locator ); \u5b9e\u9645\u4e0a\uff0c Catberry CLI \u4e3a\u60a8\u505a\u5230\u4e86\uff0c\u8bf7\u53c2\u9605CLI\u3002","title":"\u6a21\u677f\u5f15\u64ce"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/L/","text":"\u4e8b\u4ef6\u603b\u7ebf\u548c\u8bca\u65ad \u00b6 Catberry\u5177\u6709\u4e00\u7ec4\u53ef\u7528\u4e8e\u8bca\u65ad\u76ee\u7684\u7684\u4e8b\u4ef6\uff08\u4f8b\u5982\uff0c\u901a\u8fc7\u6d4f\u89c8\u5668\u6269\u5c55\uff09\u3002Catberry\u4f7f\u7528\u5b8c\u5168\u76f8\u540c\u7684\u4e8b\u4ef6\u6765\u8bb0\u5f55\u6240\u6709\u6d88\u606f\u3002 \u76d1\u542cCatberry\u4e8b\u4ef6\u7684\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a \u50cf\u8fd9\u6837\u76f4\u63a5\u4f7f\u7528Catberry\u5e94\u7528\u7a0b\u5e8f\u5b9e\u4f8b\u5bf9\u5176\u8fdb\u884c\u76d1\u542c\uff1a 1 2 3 4 5 6 const catberry = require ( 'catberry' ); const cat = catberry . create (); cat . events . on ( 'error' , error => { // some action }); \u4f7f\u7528\u50a8\u5b58\u6216CAT\u7ec4\u4ef6\u7684 this.$ context \u5bf9\u8c61\u4f7f\u7528\u76f8\u540c\u7684 on \u6216 once \u65b9\u6cd5\u5bf9\u5176\u8fdb\u884c\u76d1\u542c\u3002 \u5728\u6d4f\u89c8\u5668\u4e2d\uff0c\u60a8\u53ef\u4ee5\u8bbf\u95ee\u5168\u5c40Catberry\u5e94\u7528\u7a0b\u5e8f\u5b9e\u4f8b\uff1a 1 2 3 4 // catberry object is global because it is a property of the window catberry.events.on('error', error => { // some action }); \u5b9e\u9645\u4e0a\uff0c cat.events \u5c5e\u6027\u5177\u6709\u7c7b\u4f3c\u4e8e EventEmitter \u7684\u63a5\u53e3\u3002 \u4e8b\u4ef6\u540d\u79f0\u548c\u53c2\u6570 \u00b6 \u4ee5\u4e0b\u662fCatberry\u6d3b\u52a8\u7684\u5217\u8868\uff1a \u4e8b\u4ef6 \u4f55\u65f6\u53d1\u751f \u53c2\u6570 ready Catberry\u5df2\u5b8c\u6210\u521d\u59cb\u5316 \u65e0 trace \u8ddf\u8e2a\u6d88\u606f\u5df2\u53d1\u9001 String debug \u8c03\u8bd5\u6d88\u606f\u5df2\u53d1\u9001 String info \u4fe1\u606f\u6d88\u606f\u5df2\u53d1\u9001 String warn \u8b66\u544a\u6d88\u606f\u5df2\u53d1\u9001 String error \u9519\u8bef\u6d88\u606f\u5df2\u53d1\u9001 String fatal \u81f4\u547d\u9519\u8bef\u6d88\u606f\u5df2\u53d1\u9001 String storeLoaded \u6bcf\u4e2a\u50a8\u5b58\u90fd\u5df2\u52a0\u8f7d {name: String, path: String, constructor: function} componentLoaded \u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u5df2\u52a0\u8f7d {name: String, properties: Object, constructor: function, template: Object, errorTemplate: Object} allStoresLoaded \u6240\u6709\u50a8\u5b58\u90fd\u5df2\u52a0\u8f7d \u6309\u540d\u79f0\u52a0\u8f7d\u50a8\u5b58 allComponentsLoaded \u6240\u6709\u7ec4\u4ef6\u5747\u5df2\u52a0\u8f7d \u6309\u7ec4\u4ef6\u540d\u79f0\u52a0\u8f7d\u7684\u7ec4\u4ef6 componentRender Catberry\u5f00\u59cb\u6e32\u67d3\u7ec4\u4ef6 {name: String, context: Object} compomentRendered Catberry\u5b8c\u6210\u4e86\u7ec4\u4ef6\u6e32\u67d3 {name: String, context: Object, hrTime: [number, number], time: Number} storeDataLoad Catberry\u5f00\u59cb\u4ece\u50a8\u5b58\u52a0\u8f7d\u6570\u636e {name: String} storeDataLoaded Catberry\u5b8c\u6210\u4ece\u50a8\u5b58\u52a0\u8f7d\u6570\u636e {name: String, data: Object, lifetime: Number} actionSend Catberry\u5c06\u52a8\u4f5c\u53d1\u9001\u5230\u50a8\u5b58 {storeName: String, actionName: String, args: Object} actionSent \u64cd\u4f5c\u5df2\u53d1\u9001\u5230\u50a8\u5b58 {storeName: String, actionName: String, args: Object} documentRendered Catberry\u5b8c\u6210\u4e86\u6240\u6709\u7ec4\u4ef6\u7684\u6e32\u67d3 \u5e26\u6709\u4f4d\u7f6e\uff0c\u5f15\u8350\u6765\u6e90\u7f51\u5740\uff0c\u7528\u6237\u4ee3\u7406\u7b49\u7684\u8def\u7531\u5173\u7cfb storeChanged Catberry\u5e94\u7528\u7a0b\u5e8f\u50a8\u5b58\u5df2\u66f4\u6539 \u50a8\u5b58\u540d\u79f0 stateChanged Catberry\u5e94\u7528\u7a0b\u5e8f\u5df2\u66f4\u6539\u72b6\u6001 {oldState: Object, newState: Object} \u4ec5\u670d\u52a1\u5668\u4e8b\u4ef6\u7684\u5217\u8868\uff1a \u4e8b\u4ef6 \u4f55\u65f6\u53d1\u751f \u53c2\u6570 storeFound \u627e\u5230\u6bcf\u4e2a\u50a8\u5b58 {name: String, path: String} componentFound \u627e\u5230\u6bcf\u4e2a\u7ec4\u4ef6 {name: String, path: String, properties: Object} appBundleBuilt \u8be5\u5e94\u7528\u7684\u6d4f\u89c8\u5668\u6346\u7ed1\u5305\u5df2\u6784\u5efa {hrTime: [number, number], time: Number, path: String} externalsBundleBuilt \u6784\u5efa\u4e86\u7528\u4e8e\u5916\u90e8\u7684\u6d4f\u89c8\u5668\u5305 {hrTime: [number, number], time: Number, path: String} appBundleChanged \u6d4f\u89c8\u5668\u5957\u4ef6\u5df2\u66f4\u6539 {changedFiles: ['path1', 'pathN'], path: String} appDefinitionsBuilt \u5e94\u7528\u7a0b\u5e8f\u5b9a\u4e49\u6587\u4ef6\u5df2\u6784\u5efa {hrTime: [number, number], time: Number, template: String} \u4ec5\u6d4f\u89c8\u5668\u4e8b\u4ef6\u7684\u5217\u8868\uff1a \u4e8b\u4ef6 \u4f55\u65f6\u53d1\u751f \u53c2\u6570 documentUpdated \u5b58\u50a8\u5df2\u66f4\u6539\uff0c\u7ec4\u4ef6\u5df2\u91cd\u65b0\u6e32\u67d3 ['store1', 'store2'] componentBound \u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u7ed1\u5b9a {element: Element, id: String} componentUnbound \u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u662f\u672a\u7ed1\u5b9a\u7684 {element: Element, id: String} \u8fd9\u4e9b\u4e8b\u4ef6\u53ef\u7528\u4e8e\u6d4f\u89c8\u5668\u6269\u5c55\uff0c\u6269\u5c55\u7684\u65e5\u5fd7\u8bb0\u5f55\u6216\u901a\u8fc7\u7ec4\u4ef6/\u5b58\u50a8\u903b\u8f91\uff08\u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff09\u4f7f\u7528\uff0c\u53ef\u968f\u65f6\u968f\u5730\u4f7f\u7528\u5b83\u4eec\uff0c\u4f46\u8bf7\u8bb0\u4f4f\uff0c\u5982\u679c\u4e8b\u4ef6\u7684\u8ba2\u9605\u8fc7\u591a\uff0c\u5219\u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\uff0c\u5982\u679c\u8ba2\u9605\u670d\u52a1\u5668\u73af\u5883\u4e2d\u7684\u4e8b\u4ef6\uff0c\u60a8\u4e5f\u5fc5\u987b\u53d6\u6d88\u8ba2\u9605\u8fd9\u4e9b\u4e8b\u4ef6\u3002","title":"\u4e8b\u4ef6\u603b\u7ebf\u548c\u8bca\u65ad"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/L/#_1","text":"Catberry\u5177\u6709\u4e00\u7ec4\u53ef\u7528\u4e8e\u8bca\u65ad\u76ee\u7684\u7684\u4e8b\u4ef6\uff08\u4f8b\u5982\uff0c\u901a\u8fc7\u6d4f\u89c8\u5668\u6269\u5c55\uff09\u3002Catberry\u4f7f\u7528\u5b8c\u5168\u76f8\u540c\u7684\u4e8b\u4ef6\u6765\u8bb0\u5f55\u6240\u6709\u6d88\u606f\u3002 \u76d1\u542cCatberry\u4e8b\u4ef6\u7684\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a \u50cf\u8fd9\u6837\u76f4\u63a5\u4f7f\u7528Catberry\u5e94\u7528\u7a0b\u5e8f\u5b9e\u4f8b\u5bf9\u5176\u8fdb\u884c\u76d1\u542c\uff1a 1 2 3 4 5 6 const catberry = require ( 'catberry' ); const cat = catberry . create (); cat . events . on ( 'error' , error => { // some action }); \u4f7f\u7528\u50a8\u5b58\u6216CAT\u7ec4\u4ef6\u7684 this.$ context \u5bf9\u8c61\u4f7f\u7528\u76f8\u540c\u7684 on \u6216 once \u65b9\u6cd5\u5bf9\u5176\u8fdb\u884c\u76d1\u542c\u3002 \u5728\u6d4f\u89c8\u5668\u4e2d\uff0c\u60a8\u53ef\u4ee5\u8bbf\u95ee\u5168\u5c40Catberry\u5e94\u7528\u7a0b\u5e8f\u5b9e\u4f8b\uff1a 1 2 3 4 // catberry object is global because it is a property of the window catberry.events.on('error', error => { // some action }); \u5b9e\u9645\u4e0a\uff0c cat.events \u5c5e\u6027\u5177\u6709\u7c7b\u4f3c\u4e8e EventEmitter \u7684\u63a5\u53e3\u3002","title":"\u4e8b\u4ef6\u603b\u7ebf\u548c\u8bca\u65ad"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/L/#_2","text":"\u4ee5\u4e0b\u662fCatberry\u6d3b\u52a8\u7684\u5217\u8868\uff1a \u4e8b\u4ef6 \u4f55\u65f6\u53d1\u751f \u53c2\u6570 ready Catberry\u5df2\u5b8c\u6210\u521d\u59cb\u5316 \u65e0 trace \u8ddf\u8e2a\u6d88\u606f\u5df2\u53d1\u9001 String debug \u8c03\u8bd5\u6d88\u606f\u5df2\u53d1\u9001 String info \u4fe1\u606f\u6d88\u606f\u5df2\u53d1\u9001 String warn \u8b66\u544a\u6d88\u606f\u5df2\u53d1\u9001 String error \u9519\u8bef\u6d88\u606f\u5df2\u53d1\u9001 String fatal \u81f4\u547d\u9519\u8bef\u6d88\u606f\u5df2\u53d1\u9001 String storeLoaded \u6bcf\u4e2a\u50a8\u5b58\u90fd\u5df2\u52a0\u8f7d {name: String, path: String, constructor: function} componentLoaded \u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u5df2\u52a0\u8f7d {name: String, properties: Object, constructor: function, template: Object, errorTemplate: Object} allStoresLoaded \u6240\u6709\u50a8\u5b58\u90fd\u5df2\u52a0\u8f7d \u6309\u540d\u79f0\u52a0\u8f7d\u50a8\u5b58 allComponentsLoaded \u6240\u6709\u7ec4\u4ef6\u5747\u5df2\u52a0\u8f7d \u6309\u7ec4\u4ef6\u540d\u79f0\u52a0\u8f7d\u7684\u7ec4\u4ef6 componentRender Catberry\u5f00\u59cb\u6e32\u67d3\u7ec4\u4ef6 {name: String, context: Object} compomentRendered Catberry\u5b8c\u6210\u4e86\u7ec4\u4ef6\u6e32\u67d3 {name: String, context: Object, hrTime: [number, number], time: Number} storeDataLoad Catberry\u5f00\u59cb\u4ece\u50a8\u5b58\u52a0\u8f7d\u6570\u636e {name: String} storeDataLoaded Catberry\u5b8c\u6210\u4ece\u50a8\u5b58\u52a0\u8f7d\u6570\u636e {name: String, data: Object, lifetime: Number} actionSend Catberry\u5c06\u52a8\u4f5c\u53d1\u9001\u5230\u50a8\u5b58 {storeName: String, actionName: String, args: Object} actionSent \u64cd\u4f5c\u5df2\u53d1\u9001\u5230\u50a8\u5b58 {storeName: String, actionName: String, args: Object} documentRendered Catberry\u5b8c\u6210\u4e86\u6240\u6709\u7ec4\u4ef6\u7684\u6e32\u67d3 \u5e26\u6709\u4f4d\u7f6e\uff0c\u5f15\u8350\u6765\u6e90\u7f51\u5740\uff0c\u7528\u6237\u4ee3\u7406\u7b49\u7684\u8def\u7531\u5173\u7cfb storeChanged Catberry\u5e94\u7528\u7a0b\u5e8f\u50a8\u5b58\u5df2\u66f4\u6539 \u50a8\u5b58\u540d\u79f0 stateChanged Catberry\u5e94\u7528\u7a0b\u5e8f\u5df2\u66f4\u6539\u72b6\u6001 {oldState: Object, newState: Object} \u4ec5\u670d\u52a1\u5668\u4e8b\u4ef6\u7684\u5217\u8868\uff1a \u4e8b\u4ef6 \u4f55\u65f6\u53d1\u751f \u53c2\u6570 storeFound \u627e\u5230\u6bcf\u4e2a\u50a8\u5b58 {name: String, path: String} componentFound \u627e\u5230\u6bcf\u4e2a\u7ec4\u4ef6 {name: String, path: String, properties: Object} appBundleBuilt \u8be5\u5e94\u7528\u7684\u6d4f\u89c8\u5668\u6346\u7ed1\u5305\u5df2\u6784\u5efa {hrTime: [number, number], time: Number, path: String} externalsBundleBuilt \u6784\u5efa\u4e86\u7528\u4e8e\u5916\u90e8\u7684\u6d4f\u89c8\u5668\u5305 {hrTime: [number, number], time: Number, path: String} appBundleChanged \u6d4f\u89c8\u5668\u5957\u4ef6\u5df2\u66f4\u6539 {changedFiles: ['path1', 'pathN'], path: String} appDefinitionsBuilt \u5e94\u7528\u7a0b\u5e8f\u5b9a\u4e49\u6587\u4ef6\u5df2\u6784\u5efa {hrTime: [number, number], time: Number, template: String} \u4ec5\u6d4f\u89c8\u5668\u4e8b\u4ef6\u7684\u5217\u8868\uff1a \u4e8b\u4ef6 \u4f55\u65f6\u53d1\u751f \u53c2\u6570 documentUpdated \u5b58\u50a8\u5df2\u66f4\u6539\uff0c\u7ec4\u4ef6\u5df2\u91cd\u65b0\u6e32\u67d3 ['store1', 'store2'] componentBound \u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u7ed1\u5b9a {element: Element, id: String} componentUnbound \u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u662f\u672a\u7ed1\u5b9a\u7684 {element: Element, id: String} \u8fd9\u4e9b\u4e8b\u4ef6\u53ef\u7528\u4e8e\u6d4f\u89c8\u5668\u6269\u5c55\uff0c\u6269\u5c55\u7684\u65e5\u5fd7\u8bb0\u5f55\u6216\u901a\u8fc7\u7ec4\u4ef6/\u5b58\u50a8\u903b\u8f91\uff08\u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff09\u4f7f\u7528\uff0c\u53ef\u968f\u65f6\u968f\u5730\u4f7f\u7528\u5b83\u4eec\uff0c\u4f46\u8bf7\u8bb0\u4f4f\uff0c\u5982\u679c\u4e8b\u4ef6\u7684\u8ba2\u9605\u8fc7\u591a\uff0c\u5219\u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\uff0c\u5982\u679c\u8ba2\u9605\u670d\u52a1\u5668\u73af\u5883\u4e2d\u7684\u4e8b\u4ef6\uff0c\u60a8\u4e5f\u5fc5\u987b\u53d6\u6d88\u8ba2\u9605\u8fd9\u4e9b\u4e8b\u4ef6\u3002","title":"\u4e8b\u4ef6\u540d\u79f0\u548c\u53c2\u6570"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/M/","text":"CLI \u00b6 Catberry\u5177\u6709\u547d\u4ee4\u884c\u754c\u9762\uff0c\u53ef\u5e2e\u52a9\u60a8\u542f\u52a8\u65b0\u9879\u76ee\u5e76\u5411\u5176\u4e2d\u6dfb\u52a0\u65b0\u7684\u5546\u5e97\u548c\u7ec4\u4ef6\u3002 \u8981\u5f00\u59cb\u4f7f\u7528Catberry CLI\uff0c\u53ea\u9700\u4ecenpm\u5168\u5c40\u5b89\u88c5\u5b83\u5373\u53ef\uff1a 1 npm -g install catberry-cli \u7136\u540e\u6309\u7167\u60a8\u53ef\u4ee5\u5728 \u6b64\u5904 \u627e\u5230\u7684\u4f7f\u7528\u8bf4\u660e\u8fdb\u884c\u64cd\u4f5c\uff0c\u6216\u4ec5\u4f7f\u7528CLI\u7684\u5e2e\u52a9\uff1a 1 catberry --help","title":"CLI"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/M/#cli","text":"Catberry\u5177\u6709\u547d\u4ee4\u884c\u754c\u9762\uff0c\u53ef\u5e2e\u52a9\u60a8\u542f\u52a8\u65b0\u9879\u76ee\u5e76\u5411\u5176\u4e2d\u6dfb\u52a0\u65b0\u7684\u5546\u5e97\u548c\u7ec4\u4ef6\u3002 \u8981\u5f00\u59cb\u4f7f\u7528Catberry CLI\uff0c\u53ea\u9700\u4ecenpm\u5168\u5c40\u5b89\u88c5\u5b83\u5373\u53ef\uff1a 1 npm -g install catberry-cli \u7136\u540e\u6309\u7167\u60a8\u53ef\u4ee5\u5728 \u6b64\u5904 \u627e\u5230\u7684\u4f7f\u7528\u8bf4\u660e\u8fdb\u884c\u64cd\u4f5c\uff0c\u6216\u4ec5\u4f7f\u7528CLI\u7684\u5e2e\u52a9\uff1a 1 catberry --help","title":"CLI"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/N/","text":"API\u63d2\u4ef6 \u00b6 \u6574\u4e2aCatberry\u7684\u63d2\u4ef6API\u5747\u57fa\u4e8e\u670d\u52a1\u5b9a\u4f4d\u5668\uff0c\u6bcf\u4e2a\u63d2\u4ef6\u90fd\u53ea\u662f\u5728\u5b9a\u4f4d\u5668\u4e2d\u6ce8\u518c\u7684\u670d\u52a1\u3002 \u56e0\u6b64\uff0c\u6709\u51e0\u79cd\u63d2\u4ef6\u3002 \u50a8\u5b58\u8f6c\u6362API \u00b6 \u60a8\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u5c06\u67d0\u4e9b\u8f6c\u6362\u5e94\u7528\u4e8e\u5df2\u52a0\u8f7d\u7684\u5546\u5e97\u7684\u63d2\u4ef6\u3002\u652f\u6301Promise\u4f5c\u4e3a\u8fd4\u56de\u503c\u3002\u63d2\u4ef6\u53ef\u4ee5\u6ce8\u518c\u4e3a\u5b9e\u4f8b\uff08 locator.registerInstance \uff09\u6216\u7c7b/\u6784\u9020\u51fd\u6570\uff08 locator.register \uff09\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 locator . registerInstance ( 'storeTransform' , { transform ( store ) { // store is loaded // you can replace values, wrap a constructor, or even build a new object return newStore ; } ); store \u53c2\u6570\u5c06\u662f\u5982\u4e0b\u7684\u5bf9\u8c61\uff1a 1 2 3 4 { name: 'some store name', constructor: class StoreClass { } } \u7ec4\u4ef6\u8f6c\u6362API \u00b6 \u60a8\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u5c06\u67d0\u4e9b\u8f6c\u6362\u5e94\u7528\u4e8e\u52a0\u8f7d\u7684\u7ec4\u4ef6\u7684\u63d2\u4ef6\u3002\u652f\u6301Promise\u4f5c\u4e3a\u8fd4\u56de\u503c\u3002\u63d2\u4ef6\u53ef\u4ee5\u6ce8\u518c\u4e3a\u5b9e\u4f8b\uff08 locator.registerInstance \uff09\u6216\u7c7b/\u6784\u9020\u51fd\u6570\uff08 locator.register \uff09\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 class ComponentTransform { constructor(locator) { // \u2026 } transform(component) { // component is loaded // you can replace values, wrap a constructor, or even build a new object return Promise.resolve(newComponent); } } locator.registerInstance('componentTransform', ComponentTransform); component \u53c2\u6570\u5c06\u662f\u5982\u4e0b\u7684\u5bf9\u8c61\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 { name: 'nameOfTheComponent', constructor: class ComponentClass {}, // the object from cat-component.json // you can store in these files whatever you want and use it in // transformations properties: { name: 'nameOfTheComponent', template: './template.hbs', logic: 'index.js' }, templateSource: 'compiled template sources here', errorTemplateSource: 'compiled error template sources here or null' } \u53d1\u8868-\u5efa\u7acb\u64cd\u4f5cAPI \u00b6 \u60a8\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u5728\u6784\u5efa\u6d4f\u89c8\u5668\u6346\u7ed1\u5305\u540e\u6267\u884c\u64cd\u4f5c\u7684\u63d2\u4ef6\u3002\u5b83\u53ef\u4ee5\u662f\u8d44\u4ea7\u5efa\u8bbe\u6216\u6587\u4ef6\u7684\u67d0\u4e9b\u540e\u5904\u7406\u3002\u652f\u6301Promise\u4f5c\u4e3a\u8fd4\u56de\u503c\u3002\u53ef\u4ee5\u5c06\u63d2\u4ef6\u6ce8\u518c\u4e3a\u5b9e\u4f8b\uff08 locator.registerInstance \uff09\u6216\u7c7b/\u6784\u9020\u51fd\u6570\uff08 locator.register \uff09\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 locator.registerInstance('postBuildAction', { action(storeFinder, componentFinder) { // you can get a list of found stores or a list of found components // using storeFinder.find() and componentFinder.find() respectively // every component object has \"properties\" field // that contains cat-component.json values return Promise.resolve(); } ); find\uff08\uff09 \u65b9\u6cd5\u8fd4\u56de\u5e26\u6709\u5b58\u50a8\u540d\u79f0\u7684\u5bf9\u8c61\u7684Promise\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a store \u90fd\u662f\u5982\u4e0b\u7684\u5bf9\u8c61\uff1a 1 2 3 4 { name: 'some store name', path: 'relative path to a store module' } \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a component \u90fd\u662f\u5982\u4e0b\u7684\u5bf9\u8c61\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 { name: 'nameOfTheComponent', path: 'path to a cat-component.json file', // the object from cat-component.json // you can store whatever you want in these files and use it in // transformations properties: { name: 'nameOfTheComponent', template: './template.hbs', logic: 'index.js' } } \u4e0a\u9762\u7684\u8fd9\u79cd\u7c7b\u578b\u7684\u5bf9\u8c61\u79f0\u4e3a\u63cf\u8ff0\u7b26\u3002 \u6bcf\u4e2a\u67e5\u627e\u5668\u90fd\u662f\u4e00\u4e2a EventEmitter \uff0c\u5e76\u5177\u6709\u4ee5\u4e0b\u4e8b\u4ef6\uff1a \u5b58\u50a8\u67e5\u627e\u5668 add\u2013\u5df2\u5c06\u65b0\u50a8\u5b58\u6dfb\u52a0\u5230\u5e94\u7528\u7a0b\u5e8f change\u2013\u50a8\u5b58\u7684\u6765\u6e90\u5df2\u66f4\u6539 unlink-\u50a8\u5b58\u5df2\u4ece\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5220\u9664 error\u2013\u53d1\u751f\u76d1\u5bdf\u9519\u8bef \u7ec4\u4ef6\u67e5\u627e\u5668 add \u2013 \u5df2\u5c06\u65b0\u7ec4\u4ef6\u6dfb\u52a0\u5230\u5e94\u7528\u7a0b\u5e8f change \u2013 \u7ec4\u4ef6\u7684\u6587\u4ef6\u5939\u5df2\u66f4\u6539\uff08\u4efb\u4f55\u5d4c\u5957\u6587\u4ef6\uff09 changeLogic \u2013 \u7ec4\u4ef6\u7684\u903b\u8f91\u6587\u4ef6\u5df2\u66f4\u6539 changeTemplates \u2013 \u7ec4\u4ef6\u7684\u6a21\u677f\u6216\u9519\u8bef\u6a21\u677f\u5df2\u66f4\u6539 unlink \u2013 \u8be5\u7ec4\u4ef6\u5df2\u4ece\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5220\u9664 error \u2013 \u53d1\u751f\u76d1\u5bdf\u9519\u8bef \u9664 change \u4e8b\u4ef6\u5916\uff0c\u6bcf\u4e2a\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u90fd\u5c06\u7ec4\u4ef6\u63cf\u8ff0\u7b26\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u4f46\u662f change \u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u5c06\u63a5\u6536\u5177\u6709\u9644\u52a0\u6570\u636e\u7684\u5bf9\u8c61\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 { filename: 'filename of changed file', // component descriptor component: { name: 'nameOfTheComponent', path: 'path to a cat-component.json file', properties: { name: 'nameOfTheComponent', template: './template.hbs', logic: 'index.js' } } } Browserify\u8f6c\u6362\u548c\u63d2\u4ef6API \u00b6 \u5b83\u4eec\u90fd\u53ef\u4ee5\u6ce8\u518c\u4e3a\u5b9e\u4f8b\uff08 locator.registerInstance \uff09\u6216\u6ce8\u518c\u4e3a\u7c7b/\u6784\u9020\u51fd\u6570\uff08 locator.register \uff09\uff1a \u8f6c\u6362\u793a\u4f8b\uff1a 1 2 3 4 5 6 locator.registerInstance('browserifyTransformation', { transform(filePath, options) { return transformStream; }, options: { /* the transform options will be passed to the browserify */ } ); \u63d2\u4ef6\u793a\u4f8b\uff1a 1 2 3 4 5 6 locator.registerInstance('browserifyPlugin', { plugin(bundlerObject, options) { return transformStream; }, options: { /* the plugin options will be passed to the browserify */ } );","title":"API\u63d2\u4ef6"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/N/#api","text":"\u6574\u4e2aCatberry\u7684\u63d2\u4ef6API\u5747\u57fa\u4e8e\u670d\u52a1\u5b9a\u4f4d\u5668\uff0c\u6bcf\u4e2a\u63d2\u4ef6\u90fd\u53ea\u662f\u5728\u5b9a\u4f4d\u5668\u4e2d\u6ce8\u518c\u7684\u670d\u52a1\u3002 \u56e0\u6b64\uff0c\u6709\u51e0\u79cd\u63d2\u4ef6\u3002","title":"API\u63d2\u4ef6"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/N/#api_1","text":"\u60a8\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u5c06\u67d0\u4e9b\u8f6c\u6362\u5e94\u7528\u4e8e\u5df2\u52a0\u8f7d\u7684\u5546\u5e97\u7684\u63d2\u4ef6\u3002\u652f\u6301Promise\u4f5c\u4e3a\u8fd4\u56de\u503c\u3002\u63d2\u4ef6\u53ef\u4ee5\u6ce8\u518c\u4e3a\u5b9e\u4f8b\uff08 locator.registerInstance \uff09\u6216\u7c7b/\u6784\u9020\u51fd\u6570\uff08 locator.register \uff09\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 locator . registerInstance ( 'storeTransform' , { transform ( store ) { // store is loaded // you can replace values, wrap a constructor, or even build a new object return newStore ; } ); store \u53c2\u6570\u5c06\u662f\u5982\u4e0b\u7684\u5bf9\u8c61\uff1a 1 2 3 4 { name: 'some store name', constructor: class StoreClass { } }","title":"\u50a8\u5b58\u8f6c\u6362API"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/N/#api_2","text":"\u60a8\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u5c06\u67d0\u4e9b\u8f6c\u6362\u5e94\u7528\u4e8e\u52a0\u8f7d\u7684\u7ec4\u4ef6\u7684\u63d2\u4ef6\u3002\u652f\u6301Promise\u4f5c\u4e3a\u8fd4\u56de\u503c\u3002\u63d2\u4ef6\u53ef\u4ee5\u6ce8\u518c\u4e3a\u5b9e\u4f8b\uff08 locator.registerInstance \uff09\u6216\u7c7b/\u6784\u9020\u51fd\u6570\uff08 locator.register \uff09\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 class ComponentTransform { constructor(locator) { // \u2026 } transform(component) { // component is loaded // you can replace values, wrap a constructor, or even build a new object return Promise.resolve(newComponent); } } locator.registerInstance('componentTransform', ComponentTransform); component \u53c2\u6570\u5c06\u662f\u5982\u4e0b\u7684\u5bf9\u8c61\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 { name: 'nameOfTheComponent', constructor: class ComponentClass {}, // the object from cat-component.json // you can store in these files whatever you want and use it in // transformations properties: { name: 'nameOfTheComponent', template: './template.hbs', logic: 'index.js' }, templateSource: 'compiled template sources here', errorTemplateSource: 'compiled error template sources here or null' }","title":"\u7ec4\u4ef6\u8f6c\u6362API"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/N/#-api","text":"\u60a8\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u5728\u6784\u5efa\u6d4f\u89c8\u5668\u6346\u7ed1\u5305\u540e\u6267\u884c\u64cd\u4f5c\u7684\u63d2\u4ef6\u3002\u5b83\u53ef\u4ee5\u662f\u8d44\u4ea7\u5efa\u8bbe\u6216\u6587\u4ef6\u7684\u67d0\u4e9b\u540e\u5904\u7406\u3002\u652f\u6301Promise\u4f5c\u4e3a\u8fd4\u56de\u503c\u3002\u53ef\u4ee5\u5c06\u63d2\u4ef6\u6ce8\u518c\u4e3a\u5b9e\u4f8b\uff08 locator.registerInstance \uff09\u6216\u7c7b/\u6784\u9020\u51fd\u6570\uff08 locator.register \uff09\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 locator.registerInstance('postBuildAction', { action(storeFinder, componentFinder) { // you can get a list of found stores or a list of found components // using storeFinder.find() and componentFinder.find() respectively // every component object has \"properties\" field // that contains cat-component.json values return Promise.resolve(); } ); find\uff08\uff09 \u65b9\u6cd5\u8fd4\u56de\u5e26\u6709\u5b58\u50a8\u540d\u79f0\u7684\u5bf9\u8c61\u7684Promise\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a store \u90fd\u662f\u5982\u4e0b\u7684\u5bf9\u8c61\uff1a 1 2 3 4 { name: 'some store name', path: 'relative path to a store module' } \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a component \u90fd\u662f\u5982\u4e0b\u7684\u5bf9\u8c61\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 { name: 'nameOfTheComponent', path: 'path to a cat-component.json file', // the object from cat-component.json // you can store whatever you want in these files and use it in // transformations properties: { name: 'nameOfTheComponent', template: './template.hbs', logic: 'index.js' } } \u4e0a\u9762\u7684\u8fd9\u79cd\u7c7b\u578b\u7684\u5bf9\u8c61\u79f0\u4e3a\u63cf\u8ff0\u7b26\u3002 \u6bcf\u4e2a\u67e5\u627e\u5668\u90fd\u662f\u4e00\u4e2a EventEmitter \uff0c\u5e76\u5177\u6709\u4ee5\u4e0b\u4e8b\u4ef6\uff1a \u5b58\u50a8\u67e5\u627e\u5668 add\u2013\u5df2\u5c06\u65b0\u50a8\u5b58\u6dfb\u52a0\u5230\u5e94\u7528\u7a0b\u5e8f change\u2013\u50a8\u5b58\u7684\u6765\u6e90\u5df2\u66f4\u6539 unlink-\u50a8\u5b58\u5df2\u4ece\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5220\u9664 error\u2013\u53d1\u751f\u76d1\u5bdf\u9519\u8bef \u7ec4\u4ef6\u67e5\u627e\u5668 add \u2013 \u5df2\u5c06\u65b0\u7ec4\u4ef6\u6dfb\u52a0\u5230\u5e94\u7528\u7a0b\u5e8f change \u2013 \u7ec4\u4ef6\u7684\u6587\u4ef6\u5939\u5df2\u66f4\u6539\uff08\u4efb\u4f55\u5d4c\u5957\u6587\u4ef6\uff09 changeLogic \u2013 \u7ec4\u4ef6\u7684\u903b\u8f91\u6587\u4ef6\u5df2\u66f4\u6539 changeTemplates \u2013 \u7ec4\u4ef6\u7684\u6a21\u677f\u6216\u9519\u8bef\u6a21\u677f\u5df2\u66f4\u6539 unlink \u2013 \u8be5\u7ec4\u4ef6\u5df2\u4ece\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5220\u9664 error \u2013 \u53d1\u751f\u76d1\u5bdf\u9519\u8bef \u9664 change \u4e8b\u4ef6\u5916\uff0c\u6bcf\u4e2a\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u90fd\u5c06\u7ec4\u4ef6\u63cf\u8ff0\u7b26\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u4f46\u662f change \u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u5c06\u63a5\u6536\u5177\u6709\u9644\u52a0\u6570\u636e\u7684\u5bf9\u8c61\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 { filename: 'filename of changed file', // component descriptor component: { name: 'nameOfTheComponent', path: 'path to a cat-component.json file', properties: { name: 'nameOfTheComponent', template: './template.hbs', logic: 'index.js' } } }","title":"\u53d1\u8868-\u5efa\u7acb\u64cd\u4f5cAPI"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/N/#browserifyapi","text":"\u5b83\u4eec\u90fd\u53ef\u4ee5\u6ce8\u518c\u4e3a\u5b9e\u4f8b\uff08 locator.registerInstance \uff09\u6216\u6ce8\u518c\u4e3a\u7c7b/\u6784\u9020\u51fd\u6570\uff08 locator.register \uff09\uff1a \u8f6c\u6362\u793a\u4f8b\uff1a 1 2 3 4 5 6 locator.registerInstance('browserifyTransformation', { transform(filePath, options) { return transformStream; }, options: { /* the transform options will be passed to the browserify */ } ); \u63d2\u4ef6\u793a\u4f8b\uff1a 1 2 3 4 5 6 locator.registerInstance('browserifyPlugin', { plugin(bundlerObject, options) { return transformStream; }, options: { /* the plugin options will be passed to the browserify */ } );","title":"Browserify\u8f6c\u6362\u548c\u63d2\u4ef6API"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/O/","text":"\u63d2\u4ef6\u548c\u5de5\u5177 \u00b6 \u5b98\u65b9\u652f\u6301\u7684\u63d2\u4ef6\u5217\u8868 \u00b6 catberry-handlebars \u2013 \u7528\u4e8eHandlebars\u6a21\u677f\u5f15\u64ce\u7684Catberry\u9002\u914d\u5668 catberry-pug \u2013 \u7528\u4e8ePug\u6a21\u677f\u5f15\u64ce\u7684Catberry\u9002\u914d\u5668 catberry-dust \u2013 \u7528\u4e8eDust\u6a21\u677f\u5f15\u64ce\u7684Catberry\u9002\u914d\u5668 catberry-assets \u2013 \u4f7f\u7528Gulp\u4e3a\u6bcf\u4e2a\u7ec4\u4ef6\u6784\u5efaassets\u7684\u63d2\u4ef6 catberry-l10n \u2013 \u672c\u5730\u5316\u63d2\u4ef6 catberry-l10n-handlebars-helper \u2013 Catberry\u672c\u5730\u5316\u63d2\u4ef6\u7684Handlebars\u52a9\u624b catberry-l10n-dust-helper \u2013 \u7528\u4e8eCatberry\u672c\u5730\u5316\u63d2\u4ef6\u7684Dust\u52a9\u624b catberry-uhr \u2013 \u901a\u7528HTTP\uff08S\uff09\u8bf7\u6c42\u5b9e\u73b0 catberry-logger \u2013 \u540c\u6784\u63a7\u5236\u53f0\u8bb0\u5f55\u5668 catberry-oauth2-client \u2013 OAuth 2.0\u5ba2\u6237\u7aef\u63d2\u4ef6\uff0c\u53ef\u8ba9\u60a8\u7684\u5546\u5e97\u4f7f\u7528OAuth 2.0\u4f7f\u7528RESTful API\u3002 \u5de5\u5177 \u00b6 catberry-debugger \u2013 Chrome\u5f00\u53d1\u5de5\u5177\u6269\u5c55\u7a0b\u5e8f catberry-idea-plugin \u2013 Intellij\u5e73\u53f0\u63d2\u4ef6 \u5b9e\u65f6\u91cd\u88c5 \u00b6 \u5c3d\u7ba1Catberry\u6ca1\u6709\u5185\u7f6e\u7684\u5b9e\u65f6\u91cd\u65b0\u52a0\u8f7d\u673a\u5236\uff0c\u4f46\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u5c06\u5176\u6dfb\u52a0\u5230\u9879\u76ee\u4e2d\u5f88\u7b80\u5355\uff1a \u670d\u52a1\u5668\u7aef\u5b9e\u65f6\u91cd\u88c5 \u00b6 npm install -g nodemon \u901a\u8fc7\u66f4\u6539 package.json \u6587\u4ef6\u4ee5\u8fd0\u884c nodaemon \u800c\u4e0d\u662f\u8282\u70b9 debug \u547d\u4ee4\uff1a 1 node ./build.js & nodemon --watch server --watch build.js --watch routes.js ./server.js debug-win \u547d\u4ee4: 1 powershell -Command \\\"Start-Process -NoNewWindow nodemon ./build.js; Start-Process -NoNewWindow -Wait -ArgumentList '--watch server --watch build.js --watch routes.js ./server.js' nodemon\\\" \u5ba2\u6237\u7aef\u5b9e\u65f6\u91cd\u88c5 \u00b6 npm install -S express-livereload \u4fee\u6539 server.js \u5e76\u5c06\u4ee5\u4e0b\u4ee3\u7801\u653e\u5728 const app = express\uff08\uff09 \u4e0b\uff1b 1 2 3 4 if(!config.isRelease){ const livereload = require('express-livereload'); livereload(app); } \u5c06\u4ee5\u4e0b\u884c\u6dfb\u52a0\u5230\u5934\u6a21\u677f\u4e2d\uff1a 1 <script>document.write('<script src=\"http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js\"></' + 'script>')</script> \u800c\u5df2\uff01\u73b0\u5728\uff0c\u5f53\u60a8\u66f4\u6539\u5ba2\u6237\u7aef\u4ee3\u7801\u65f6-\u7f51\u9875\u5c06\u91cd\u65b0\u52a0\u8f7d\uff0c\u800c\u5728\u7f16\u8f91\u670d\u52a1\u5668\u65f6-\u8282\u70b9\u5c06\u91cd\u65b0\u542f\u52a8\u3002 \u5176\u4ed6 \u00b6 catberry-uri \u2013 \u4e25\u683c\u6309\u7167RFC 3986\u5f00\u53d1\u7684URI\u89e3\u6790\u5668\u5b9e\u73b0\u3002","title":"\u63d2\u4ef6\u548c\u5de5\u5177"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/O/#_1","text":"","title":"\u63d2\u4ef6\u548c\u5de5\u5177"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/O/#_2","text":"catberry-handlebars \u2013 \u7528\u4e8eHandlebars\u6a21\u677f\u5f15\u64ce\u7684Catberry\u9002\u914d\u5668 catberry-pug \u2013 \u7528\u4e8ePug\u6a21\u677f\u5f15\u64ce\u7684Catberry\u9002\u914d\u5668 catberry-dust \u2013 \u7528\u4e8eDust\u6a21\u677f\u5f15\u64ce\u7684Catberry\u9002\u914d\u5668 catberry-assets \u2013 \u4f7f\u7528Gulp\u4e3a\u6bcf\u4e2a\u7ec4\u4ef6\u6784\u5efaassets\u7684\u63d2\u4ef6 catberry-l10n \u2013 \u672c\u5730\u5316\u63d2\u4ef6 catberry-l10n-handlebars-helper \u2013 Catberry\u672c\u5730\u5316\u63d2\u4ef6\u7684Handlebars\u52a9\u624b catberry-l10n-dust-helper \u2013 \u7528\u4e8eCatberry\u672c\u5730\u5316\u63d2\u4ef6\u7684Dust\u52a9\u624b catberry-uhr \u2013 \u901a\u7528HTTP\uff08S\uff09\u8bf7\u6c42\u5b9e\u73b0 catberry-logger \u2013 \u540c\u6784\u63a7\u5236\u53f0\u8bb0\u5f55\u5668 catberry-oauth2-client \u2013 OAuth 2.0\u5ba2\u6237\u7aef\u63d2\u4ef6\uff0c\u53ef\u8ba9\u60a8\u7684\u5546\u5e97\u4f7f\u7528OAuth 2.0\u4f7f\u7528RESTful API\u3002","title":"\u5b98\u65b9\u652f\u6301\u7684\u63d2\u4ef6\u5217\u8868"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/O/#_3","text":"catberry-debugger \u2013 Chrome\u5f00\u53d1\u5de5\u5177\u6269\u5c55\u7a0b\u5e8f catberry-idea-plugin \u2013 Intellij\u5e73\u53f0\u63d2\u4ef6","title":"\u5de5\u5177"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/O/#_4","text":"\u5c3d\u7ba1Catberry\u6ca1\u6709\u5185\u7f6e\u7684\u5b9e\u65f6\u91cd\u65b0\u52a0\u8f7d\u673a\u5236\uff0c\u4f46\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u5c06\u5176\u6dfb\u52a0\u5230\u9879\u76ee\u4e2d\u5f88\u7b80\u5355\uff1a","title":"\u5b9e\u65f6\u91cd\u88c5"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/O/#_5","text":"npm install -g nodemon \u901a\u8fc7\u66f4\u6539 package.json \u6587\u4ef6\u4ee5\u8fd0\u884c nodaemon \u800c\u4e0d\u662f\u8282\u70b9 debug \u547d\u4ee4\uff1a 1 node ./build.js & nodemon --watch server --watch build.js --watch routes.js ./server.js debug-win \u547d\u4ee4: 1 powershell -Command \\\"Start-Process -NoNewWindow nodemon ./build.js; Start-Process -NoNewWindow -Wait -ArgumentList '--watch server --watch build.js --watch routes.js ./server.js' nodemon\\\"","title":"\u670d\u52a1\u5668\u7aef\u5b9e\u65f6\u91cd\u88c5"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/O/#_6","text":"npm install -S express-livereload \u4fee\u6539 server.js \u5e76\u5c06\u4ee5\u4e0b\u4ee3\u7801\u653e\u5728 const app = express\uff08\uff09 \u4e0b\uff1b 1 2 3 4 if(!config.isRelease){ const livereload = require('express-livereload'); livereload(app); } \u5c06\u4ee5\u4e0b\u884c\u6dfb\u52a0\u5230\u5934\u6a21\u677f\u4e2d\uff1a 1 <script>document.write('<script src=\"http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js\"></' + 'script>')</script> \u800c\u5df2\uff01\u73b0\u5728\uff0c\u5f53\u60a8\u66f4\u6539\u5ba2\u6237\u7aef\u4ee3\u7801\u65f6-\u7f51\u9875\u5c06\u91cd\u65b0\u52a0\u8f7d\uff0c\u800c\u5728\u7f16\u8f91\u670d\u52a1\u5668\u65f6-\u8282\u70b9\u5c06\u91cd\u65b0\u542f\u52a8\u3002","title":"\u5ba2\u6237\u7aef\u5b9e\u65f6\u91cd\u88c5"},{"location":"Catberry\u6846\u67b6\u4e2d\u6587\u6587\u6863/O/#_7","text":"catberry-uri \u2013 \u4e25\u683c\u6309\u7167RFC 3986\u5f00\u53d1\u7684URI\u89e3\u6790\u5668\u5b9e\u73b0\u3002","title":"\u5176\u4ed6"}]}